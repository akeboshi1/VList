{"version":3,"sources":["file:///D:/workspace/cocosworkspace/dynamicListZip/assets/core/VList.ts"],"names":["V3","v","z","v3","x","y","_decorator","CCObject","CCString","clamp","clamp01","Component","easing","Enum","error","instantiate","Layout","log","Mask","Node","NodeEventType","Prefab","Rect","Size","TransformBit","tween","UIOpacity","UIRenderer","UITransform","v2","Vec2","warn","Widget","EDITOR_NOT_IN_PREVIEW","FixedScrollView","VListLayerCom","WidgetUtils","ccclass","property","executeInEditMode","VListEvent","RecycleNodeName","ScrollNodeName","ContentNodeName","PageNodeName","ViewNodeName","ItemRectNodeName","isInEditorMode","EListType","EAlignType_Hor","EAlignType_Ver","EDir","EScrollDir","EOverflowDir","EStrechType","VList","type","displayName","tooltip","visible","listType","view","step","min","group","name","style","id","itemPrefab","readonly","scrollDir","Both","layoutDir","isLoop","Horizontal","Vertical","allowTouchScroll","autoFlowSpeed","length","_listType","Page","max","slide","strech_hor","ExpandFixed","strech_ver","Expand","Fixed","Overflow","Clamp","ScrollList","ignoreComList","_layoutInfo","col","row","size","boundSize","spaceX","spaceY","num","_trans","itemChildMap","Map","layerMap","refreshDelayFuncs","relativeListCom","executeLock","_infos","_parentInfo","_pageIdx","flowTimer","realFlowSpeed","nodePools","registerInfos","cb","isInited","isInFocus","focusTwn","hasInitRegister","scrollVelocity","lastContentOffset","exeCache","startCrd","val","onChangeParams","_scrollDir","_layoutDir","_strech_hor","_alignType_hor","Center","_strech_ver","_alignType_ver","scrollNode","scrollRect","scrollView","getComponent","horizontal","vertical","showMask","_showMask","enabled","preItemNum","_preItemNum","_itemPrefab","refreshItemCom","comKeyList","comPathList","comShowList","itemSize","data","contentSize","comPrefix","_comPrefix","refreshComList","_refreshComList","isRevertSiblingOrder","_isRevertSiblingOrder","_isLoop","banLoopTips","banLoopTips2","banLoopTips3","autoFlowSpeedX","_autoFlowSpeed","autoFlowSpeedY","_allowTouchScroll","allowTouch","relativeList","_relativeList","value","res","i","push","uniformRelativeSizeTrigger","_uniformRelativeSizeTrigger","setContentSize","trans","relaticeScrollTips","resizeToItem","_resizeToItem","fullPage","_fullPage","pageParamsTipe","strech_hor_lockTips","strech_ver_lockTips","space_x_tips","space_y_tips","space_x","_space_x","space_y","_space_y","space_min_x","_space_min_x","space_min_y","_space_min_y","_row","rowTipsByOverflow","rowTipsByClamp","_col","colTipsByOverflow","colTipsByClamp","alignType_hor_tips","alignType_hor","isAlignChild_hor","_isAlignChild_hor","alignType_ver_tips","alignType_ver","isAlignChild_ver","_isAlignChild_ver","banAlignHorTips","tips","padding_top","_padding_top","padding_left","_padding_left","padding_bottom","_padding_bottom","padding_right","_padding_right","layoutInfo","loopDir","None","overflowDir","hor","ver","contentOffset","content","position","realCol","realRow","realSpaceX","realSpaceY","realItemSize","layoutSize","viewSize","realPaddingLeft","realPaddingRight","realPaddingTop","realPaddinBottom","childAlign_hor","Left","childAlign_ver","Top","refreshStruct","updateLayout","idx","children","node","setParent","getPosInfo","center","parent","hasChangedFlags","TRS","_objFlags","Flags","EditorOnly","childrenTmp","destroy","alignContentPos","infos","forEach","e","refreshNodeTrans","refreshView","contentNode","viewNode","recycleFolderNode","recycleFolder","scrollRectNode","rootLayer","get","parentInfo","datas","map","pageCnt","pageIdx","curPageInfo","progress","info","validOffset","add","validSize","com","stopAutoScroll","offsetProcess","setPosition","scrollAnchor","scrollTo","isInFlow","Math","abs","flowResumeTime","flowSpeed_v","flowSpeed","anchorPoint","subLists","scan","n","path","subList","c","startsWith","renderCom","list","shift","lp2wp","lp","convertToWorldSpaceAR","wp2lp","wp","convertToNodeSpaceAR","onInitRegister","on","SIZE_CHANGED","waitExecute","isValid","EventType","SCROLLING","onScrolling","SCROLL_BEGAN","onScrollStart","TOUCH_UP","onScrollEnd","FINISH_AUTO_SCROLL","onScrollFinish","target","emit","OnScrolling","getFocus","posInfo","clearPool","onDestroy","key","ctor","getItemComByKey","getNode","delete","clearAll","clearList","clear","recycleAll","init","itemCallback","isRenderByLayer","root","curPath","addComponent","set","some","m","filter","pauseFlow","flowWaitTime","getRenderItemInfo","realIdx","item","loopIdx","floor","getInfoByData","renderItems","call","isVisible","find","sort","compare","refreshList","setData","ignoreReset","exeFunc","location","getLocation","addData","insertIdx","cnt","newInfo","after","slice","before","concat","deleteData","findIndex","deleteIdx","infoIdx","recycleAllNode","splice","deleteIndices","infoIndices","delInfos","remainInfos","indexOf","exePromise","Promise","resolve","refreshItem","onData","renderItem","register","nodeEvent","func","uniKey","registerInfo","evtId","callback","bind","f","registerNodeEvt","unregister","index","unregisterNodeEvt","renderItemInfo","off","getChildByPath","getChildByPath_native","hasHead","childInfo","child","comType","pathIdx","targetNode","pos","wid","updateAlignment","getParentPath","lastSlashIndex","lastIndexOf","substring","skipParent","widget","parentTrans","childTrans","align","replace","console","pop","initInfo","onInstantiate","childrenData","isSkipParent","childSkipParent","d","p","wgt","initRenderItem","onClick","TOUCH_END","idx2crd","crd2idx","crd","r","progress2idx","loopSize","width","height","testItemIdxByLp","idx2progress","getVec","layout","unitSize","curCrd","spaceRatio","centerCrd","anchor","crdOffset","turnPrevious","time","previousPageIdx","locate","turnNext","nextPageIdx","moveDelta","delta","translate","endCallback","focus","scrollToTop","scrollToBottom","scrollToLeft","scrollToRight","containerSize","scrollSize","anchorOffset","colIdx","rowIdx","stop","delay","start","recycleRenderItem","rootSize","getChildByName","hideFlags","LockedInEditor","active","scrollCom","getPathInHierarchy","layer","contentTrans","alignMode","AlignMode","ALWAYS","isAlignLeft","isAlignBottom","isAlignTop","isAlignRight","left","top","right","bottom","isInfinity","isHandleReleaseScroll","itemRect","itemRectTrans","reset","contentPos","Right","Bottom","isOutOfScroll","isOutOfBoundary","len","getCol","getRow","ceil","onStartBatch","onEndBatch","vec","divide","testVisibleByIdx","accuracy","minViewPos","maxViewPos","itemMinPos","xMin","yMin","itemMaxPos","xMax","yMax","resetLoop","positiveMod","curTotalCol","curTotalRow","horLayout","verScrollLimit","horScrollLimit","getRealIdxRangeInView","startIdx","endIdx","force","idxRange","renderMaps","renderVisitMap","renderInfos","enterInfos","stayInfos","exitInfos","Set","curItem","has","visitMap","j","Array","from","keys","onHide","onShow","update","dt","updateRenderItem","isAutoScrolling","isInTouch","quadIn","clone","onUpdate","opacityCom","opacity","onLoad","resetInEditor","didResetToDefault","targetCrd","subtract","selfRange","scrollThreshold","turnSpeedThreshold","snapTime","OnFinishPage","OnTurnPage","a","b"],"mappings":"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","sourcesContent":["import { _decorator, CCObject, CCString, clamp, clamp01, Component, easing, Enum, error, instantiate, Layout, log, Mask, Node, NodeEventType, Prefab, Rect, Size, TransformBit, Tween, tween, UIOpacity, UIRenderer, UITransform, v2, v3, Vec2, Vec3, warn, Widget } from 'cc';\nimport { EDITOR_NOT_IN_PREVIEW } from 'cc/env';\nimport { FixedScrollView } from './FixedScrollView';\nimport { VListLayerCom } from './VListLayerCom';\nimport { WidgetUtils } from './WidgetUtils';\nconst { ccclass, property, executeInEditMode } = _decorator;\n// -*- coding: utf-8 -*-\nexport enum VListEvent {\n    /** */\n    OnScrolling = \"scrolling\",\n    /** */\n    OnLayout = \"layout\",\n    /** */\n    OnResize = \"size-changed\",\n    /**page */\n    OnTurnPage = \"turn-page\",\n    /**page */\n    OnFinishPage = \"finish-page\",\n}\nfunction V3(v: Vec2, z = 0) {\n    return v3(v.x, v.y, z);\n}\nconst RecycleNodeName = \"v_recycle\";\nconst ScrollNodeName = \"v_scrollView\";\nconst ContentNodeName = \"v_content\";\nconst PageNodeName = \"v_page\";\nconst ViewNodeName = \"v_view\";\nconst ItemRectNodeName = \"v_itemRect\"\ninterface IRegisterInfo {\n    uniKey: string,\n    evtId: string,\n    callback: (info: IVListItemInfo<any>) => void,\n    key: string,\n}\nconst isInEditorMode = EDITOR_NOT_IN_PREVIEW;\n/** */\ntype Location = number | \"Top\" | \"Bottom\" | \"Left\" | \"Right\" | \"Start\" | \"End\";\n/** */\nexport interface ILayoutInfo {\n    /** */\n    col: number,\n    /** */\n    row: number,\n    /** */\n    size: Size,\n    /** */\n    boundSize: Size,\n    /** */\n    spaceX: number,\n    /** */\n    spaceY: number,\n    /** */\n    num: number,\n}\nexport type VCallback<T> = (info: IVListItemInfo<T>, renderItem?: IRenderItemInfo) => void;\nexport type NodeCapture = (key: string) => Node;\nexport type ComCapture = <K extends Component>(key: string, ctor: new () => K) => K\nexport type VInitback<T> = (info: { get: ComCapture, getNode: NodeCapture, node: Node, list: VList<T>, parent: IVListItemInfo<any> }) => void\n/** */\nexport interface IVListItemHooks<T> {\n    /***/\n    onInstantiate?: VInitback<T>;\n    /***/\n    onDestroy?: VInitback<T>;\n    /** */\n    onData?: VCallback<T>;\n    /** */\n    onShow?: VCallback<T>;\n    /** */\n    onHide?: VCallback<T>;\n    /** */\n    onUpdate?: (info: IVListItemInfo<T>, dt: number, renderItem?: IRenderItemInfo) => void;\n    /** */\n    onClick?: VCallback<T>;\n}\nexport interface IRenderItemInfo<T = any> {\n    /**idx */\n    realIdx: number;\n    /**node */\n    node: Node;\n    /** */\n    loopIdx: number;\n    /**keycomPrefixnode */\n    get: ComCapture;\n    /**keycomPrefixnode */\n    getNode: NodeCapture;\n    /**renderItemsfalse */\n    isValid: boolean;\n    /**IVListItemInfo */\n    info: IVListItemInfo<T>;\n}\n/** */\nexport interface IVListItemInfo<T = any> {\n    /** */\n    idx: number,\n    /** */\n    data: T,\n    /**getgetNodenode.getChildByPath\n     * nodenullVList.execute()\n     * isLoopnode\n     */\n    node: Node,\n    /**renderItemstrue */\n    isVisible: boolean;\n    /**keycomPrefixnode */\n    get: ComCapture;\n    /**keycomPrefixnode */\n    getNode: NodeCapture;\n    /**, realIdx realIdx\n    */\n    call(cb: VCallback<T>, realIdx?: number): void;\n    /**isLoop */\n    renderItems: IRenderItemInfo<T>[]\n    /** */\n    list: VList<T>;\n    /** */\n    parent: IVListItemInfo<any>\n}\nexport enum EListType {\n    /** */\n    Layout,\n    /** */\n    ScrollList,\n    /** */\n    Page,\n}\nexport enum EAlignType_Hor {\n    /** */\n    Center,\n    /** */\n    Left,\n    /** */\n    Right,\n}\nexport enum EAlignType_Ver {\n    /** */\n    Center,\n    /** */\n    Top,\n    /** */\n    Bottom,\n}\nexport enum EDir {\n    Horizontal = 1,\n    Vertical = 2,\n}\nexport enum EScrollDir {\n    Horizontal = 1,\n    Vertical = 2,\n    Both = 3,\n}\nexport enum EOverflowDir {\n    None = 0,\n    Horizontal = 1,\n    Vertical = 2,\n    Both = 3,\n}\nexport enum EStrechType {\n    /** */\n    Fixed,\n    /** */\n    ExpandFixed,\n    /** */\n    Clamp,\n    /** */\n    Expand,\n    /** */\n    Overflow,\n}\n@ccclass('VList')\n@executeInEditMode\nexport class VList<T = any> extends Component {\n    //#region  vlist args\n    @property({ type: Enum(EListType) })\n    private _listType: EListType = EListType.ScrollList;\n    @property({\n        displayName: \"\",\n        tooltip: \"LayoutScrollListPage\",\n        type: Enum(EListType)\n    })\n    /** */\n    get listType() { return this._listType; }\n    private set listType(val) {\n        this._listType = val;\n        this.onChangeParams();\n    }\n    @property({ type: Enum(EScrollDir) })\n    private _scrollDir: EScrollDir = EScrollDir.Vertical;\n    @property({\n        displayName: \"\",\n        tooltip: \"HorizontalVerticalBoth\",\n        type: Enum(EScrollDir),\n        visible() { return this.listType != EListType.Layout }\n    })\n    /** */\n    get scrollDir() { return this._scrollDir; }\n    private set scrollDir(val) {\n        this._scrollDir = val;\n        if (this._listType != EListType.Layout) {\n            if (this.scrollDir == EScrollDir.Vertical) {\n                this._layoutDir = EDir.Horizontal;\n                this._strech_hor = EStrechType.Fixed;\n                this._alignType_hor = EAlignType_Hor.Center;\n            }\n            else if (this.scrollDir == EScrollDir.Horizontal) {\n                this._layoutDir = EDir.Vertical;\n                this._strech_ver = EStrechType.Fixed;\n                this._alignType_ver = EAlignType_Ver.Center;\n            }\n            else {\n                this._strech_hor = EStrechType.Expand;\n                this._strech_ver = EStrechType.Expand;\n                this._alignType_ver = EAlignType_Ver.Center;\n                this._alignType_hor = EAlignType_Hor.Center;\n            }\n        }\n        this.onChangeParams();\n        let scrollNode = this.scrollRect;\n        let scrollView = scrollNode.getComponent(FixedScrollView);\n        scrollView.horizontal = !!(val & 1);\n        scrollView.vertical = !!(val & 2);\n    }\n    @property\n    private _showMask: boolean = true;\n    @property({ displayName: \"\", tooltip: \"maskmask\", visible() { return !!this.view } })\n    private get showMask() { return this._showMask }\n    private set showMask(val: boolean) {\n        this._showMask = val;\n        if (this.view)\n            this.view.getComponent(Mask).enabled = this.showMask;\n    }\n    // @property({ group: { name: \"Layout Info\", style: \"section\" } })\n    @property\n    private _preItemNum: number = 0;\n    @property({ displayName: \"\", step: 1, min: 0, tooltip: \"\" })\n    private get preItemNum() { return this._preItemNum; }\n    private set preItemNum(val) { this._preItemNum = val; this.onChangeParams(); }\n    @property(Prefab)\n    private _itemPrefab: Prefab;\n    @property({ displayName: \"\", tooltip: \"\", type: Prefab, group: { name: \"\", style: \"tab\", id: '0' } })\n    /** */\n    get itemPrefab(): Prefab { return this._itemPrefab; }\n    private set itemPrefab(val) {\n        this._itemPrefab = val;\n        if (val) {\n            this.refreshItemCom();\n        }\n        else {\n            this.preItemNum = 0;\n            this.comKeyList = [];\n            this.comPathList = [];\n            this.comShowList = [];\n        }\n    }\n\n\n    @property({ displayName: \"\", tooltip: \"\", type: Size, group: { name: \"\", style: \"tab\", id: '0' } })\n    /**realItemSize */\n    get itemSize(): Size { return this.itemPrefab == null ? new Size(0, 0) : (this.itemPrefab.data as Node).getComponent(UITransform).contentSize; };\n\n    @property\n    private _comPrefix: string = \"_\";\n    @property({ displayName: \"\", tooltip: \"getgetNode\", group: { name: \"\", style: \"tab\", id: '0' } })\n    private get comPrefix() { return this._comPrefix; }\n    private set comPrefix(val: string) { if (val != \"\") { this._comPrefix = val; this.refreshItemCom(); } }\n    @property\n    private _refreshComList = false;\n    @property({ displayName: \"\", tooltip: \"\", visible() { return !!this.itemPrefab }, group: { name: \"\", style: \"tab\", id: '0' } })\n    private get refreshComList() { return this._refreshComList };\n    private set refreshComList(val: boolean) {\n        if (val) {\n            this.refreshItemCom();\n            log(\"\")\n        }\n    }\n    @property({ readonly: true, displayName: \"\", tooltip: \"\", group: { name: \"\", style: \"tab\", id: '0' }, visible() { return this.itemPrefab != null }, type: CCString })\n    private comShowList: string[] = [];\n    @property({ visible() { return false }, type: CCString })\n    private comKeyList: string[] = [];\n    @property({ visible() { return false }, type: CCString })\n    private comPathList: string[] = [];\n    @property\n    private _isRevertSiblingOrder: boolean = false;\n    @property({\n        displayName: \"\", tooltip: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n    })\n    private get isRevertSiblingOrder() { return this._isRevertSiblingOrder; }\n    private set isRevertSiblingOrder(val: boolean) { this._isRevertSiblingOrder = val; this.onChangeParams() }\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        tooltip: \"\"\n    })\n    private isRenderByLayer: boolean = true;\n    /** */\n    private ignoreComList: (new (...args: any[]) => Component)[] = [Mask, Layout, VListLayerCom, VList];\n    @property\n    private _isLoop: boolean = false;\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.listType != EListType.Layout && this.scrollDir != EScrollDir.Both && (this.scrollDir as number) != (this.layoutDir as number) },\n        tooltip: \"\",\n    })\n    private set isLoop(val) {\n        this._isLoop = val;\n        if (this.scrollDir == EScrollDir.Both)\n            this.scrollDir = EScrollDir.Horizontal;\n        else\n            this.onChangeParams();\n    }\n    get isLoop() { return this._isLoop && this.listType != EListType.Layout && this.scrollDir != EScrollDir.Both && (this.scrollDir as number) != (this.layoutDir as number); }\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.listType != EListType.Layout && this.scrollDir == EScrollDir.Both },\n    })\n    get banLoopTips() { return \"\" }\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.listType != EListType.Layout && (this.scrollDir as number) == (this.layoutDir as number) },\n    })\n    get banLoopTips2() { return \"\" }\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.listType == EListType.Layout },\n    })\n    get banLoopTips3() { return \"\" }\n    @property\n    private _autoFlowSpeed: Vec2 = v2();\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.isLoop && this.scrollDir == EScrollDir.Horizontal; },\n        tooltip: \"/\",\n        step: 0.1\n    })\n    private get autoFlowSpeedX() {\n        return this._autoFlowSpeed.x;\n    }\n    private set autoFlowSpeedX(val: number) {\n        this._autoFlowSpeed.x = val;\n    }\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.isLoop && this.scrollDir == EScrollDir.Vertical; },\n        tooltip: \"/\",\n        step: 0.1\n    })\n    private get autoFlowSpeedY() {\n        return this._autoFlowSpeed.y;\n    }\n    private set autoFlowSpeedY(val: number) {\n        this._autoFlowSpeed.y = val;\n    }\n    @property({\n        type: Vec2,\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.isLoop && this.scrollDir == EScrollDir.Both; },\n        tooltip: \"/\",\n        step: 0.1\n    })\n    private get autoFlowSpeed() {\n        return this._autoFlowSpeed;\n    }\n    private set autoFlowSpeed(val: Vec2) {\n        this._autoFlowSpeed = val;\n    }\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.isLoop && this.allowTouchScroll && this.autoFlowSpeed.length() > 0.01 },\n        tooltip: \"\",\n    })\n    flowWaitTime: number = 1;\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.isLoop && this.allowTouchScroll && this.autoFlowSpeed.length() > 0.01 },\n        tooltip: \"\",\n    })\n    flowResumeTime: number = 0.5;\n    @property\n    private _allowTouchScroll: boolean = true;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.listType != EListType.Layout }\n    })\n    /** */\n    get allowTouchScroll() { return this._allowTouchScroll; }\n    set allowTouchScroll(val) { this._allowTouchScroll = val; this.scrollRect && (this.scrollRect.getComponent(FixedScrollView).allowTouch = val); }\n\n    /** */\n    @property(Node)\n    private _relativeList: Node[] = [];\n    @property({\n        displayName: \"\",\n        tooltip: \"VListVList\",\n        type: Node, group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.listType != EListType.Layout }\n    })\n    /** */\n    get relativeList() { return this._relativeList; }\n    private set relativeList(value: Node[]) {\n        let res: Node[] = [];\n        for (let i = 0; i < value.length; i++) {\n            if (value[i] && !value[i].getComponent(VList)) {\n                warn(`${value[i].name}VList`)\n            }\n            else {\n                res.push(value[i]);\n            }\n        }\n        this._relativeList = res;\n    }\n    @property\n    private _uniformRelativeSizeTrigger = false;\n    @property({\n        displayName: \"\",\n        tooltip: \"VList\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.listType != EListType.Layout }\n    })\n    private get uniformRelativeSizeTrigger() { return this._uniformRelativeSizeTrigger; }\n    private set uniformRelativeSizeTrigger(value: boolean) {\n        if (value) {\n            for (let i = 0; i < this.relativeList.length; i++) {\n                this.relativeList[i] && this.relativeList[i].getComponent(UITransform).setContentSize(this.trans.contentSize);\n            }\n            log(\"!\");\n        }\n    }\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.listType == EListType.Layout }\n    })\n    private get relaticeScrollTips() { return \"ScrollListPage\"; } @property({\n        displayName: \"\",\n        tooltip: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this._listType == EListType.Page && this.allowTouchScroll }\n    })\n    /** */\n    snapTime: number = 0.5;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this._listType == EListType.Page && this.allowTouchScroll }\n    })\n    /** */\n    turnSpeedThreshold: number = 200;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' }, visible() { return this._listType == EListType.Page && this.allowTouchScroll },\n        min: 0, max: 1, step: 0.1, slide: true\n    })\n    /** */\n    scrollThreshold: number = 0.4;\n    @property\n    private _resizeToItem = false;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this._listType == EListType.Page }\n    })\n    private get resizeToItem() { return this._resizeToItem; }\n    private set resizeToItem(val) {\n        if (val) {\n            this.itemPrefab && this.trans.setContentSize(this.itemSize);\n        }\n    }\n    @property\n    private _fullPage: boolean = false;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this.listType == EListType.Page }\n    })\n    /** */\n    get fullPage() { return this._fullPage; }\n    private set fullPage(val) { this._fullPage = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        group: { name: \"\", style: \"tab\", id: '0' },\n        visible() { return this._listType != EListType.Page }\n    })\n    private get pageParamsTipe() { return \"Page\"; }\n    @property\n    private _strech_hor = EStrechType.Fixed;\n    @property({\n        displayName: \"\",\n        type: Enum(EStrechType),\n        tooltip: \"FixedExpandFixedClampExpandOverflow\",\n        visible() { return this.listType == EListType.Layout || this.scrollDir != EScrollDir.Horizontal },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /** */\n    get strech_hor() { return this.scrollDir == EScrollDir.Horizontal && this.listType != EListType.Layout ? EStrechType.Overflow : this._strech_hor };\n    set strech_hor(val) { this._strech_hor = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        tooltip: \"HorizontalOverFlow\",\n        visible() { return this.listType != EListType.Layout && this.scrollDir == EScrollDir.Horizontal },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /** */\n    get strech_hor_lockTips() { return \"Overflow\" };\n    @property\n    private _strech_ver = EStrechType.Overflow;\n    @property({\n        displayName: \"\",\n        type: Enum(EStrechType),\n        tooltip: \"FixedExpandFixedClampExpandOverflow\",\n        visible() { return this.listType == EListType.Layout || this.scrollDir != EScrollDir.Vertical },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /** */\n    get strech_ver() { return this.scrollDir == EScrollDir.Vertical && this.listType != EListType.Layout ? EStrechType.Overflow : this._strech_ver };\n    set strech_ver(val) { this._strech_ver = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        tooltip: \"VerticalOverFlow\",\n        visible() { return this.listType != EListType.Layout && this.scrollDir == EScrollDir.Vertical },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /** */\n    get strech_ver_lockTips() { return \"Overflow\" };\n\n    @property({ displayName: \"\", type: CCString, visible() { return this.strech_hor == EStrechType.ExpandFixed }, group: { name: \"\", style: \"tab\", id: '1' } })\n    get space_x_tips() { return \"ExpandFixed\" }\n    @property({ displayName: \"\", type: CCString, visible() { return this.strech_ver == EStrechType.ExpandFixed }, group: { name: \"\", style: \"tab\", id: '1' } })\n    get space_y_tips() { return \"ExpandFixed\" }\n    @property\n    private _space_x = 0;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        visible() { return this.strech_hor != EStrechType.Expand && this.strech_hor != EStrechType.ExpandFixed },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /**realSpaceX */\n    get space_x() { return this._space_x };\n    set space_x(val) { this._space_x = val; this.onChangeParams(); }\n    @property\n    private _space_y = 0;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        visible() { return this.strech_ver != EStrechType.Expand && this.strech_ver != EStrechType.ExpandFixed },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /**realSpaceY */\n    get space_y() { return this._space_y };\n    set space_y(val) { this._space_y = val; this.onChangeParams(); }\n    @property\n    private _space_min_x = 0;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        visible() { return this.strech_hor == EStrechType.Expand },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /**Expand */\n    get space_min_x() { return this._space_min_x };\n    set space_min_x(val) { this._space_min_x = val; this.onChangeParams(); }\n    @property\n    private _space_min_y = 0;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        visible() { return this.strech_ver == EStrechType.Expand },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /**Expand */\n    get space_min_y() { return this._space_min_y };\n    set space_min_y(val) {\n        this._space_min_y = val;\n        this.onChangeParams();\n    }\n\n    @property\n    private _row: number = 1;\n    @property({\n        displayName: \"\", step: 1, min: 1,\n        tooltip: \"\",\n        visible() {\n            return (this.strech_ver == EStrechType.Fixed || this.strech_ver == EStrechType.ExpandFixed);\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /**FixedExpandFixedrealRow */\n    get row() { return this._row };\n    set row(val) { this._row = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        visible() {\n            return (this.strech_ver == EStrechType.Overflow);\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    get rowTipsByOverflow() {\n        return \"overflow\"\n    }\n    @property({\n        displayName: \"\",\n        visible() {\n            return (this.strech_ver == EStrechType.Clamp);\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    get rowTipsByClamp() {\n        return \"clamp\"\n    }\n    @property\n    private _col: number = 1;\n    @property({\n        displayName: \"\", step: 1, min: 1,\n        tooltip: \"\",\n        visible() {\n            return (this.strech_hor == EStrechType.Fixed || this.strech_hor == EStrechType.ExpandFixed);\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /**FixedExpandFixedrealCol */\n    get col() { return this._col };\n    set col(val) { this._col = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        visible() {\n            return (this.strech_hor == EStrechType.Overflow);\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    get colTipsByOverflow() {\n        return \"overflow\"\n    }\n    @property({\n        displayName: \"\",\n        visible() {\n            return (this.strech_hor == EStrechType.Clamp);\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    get colTipsByClamp() {\n        return \"clamp\"\n    }\n    @property\n    private _layoutDir = EDir.Horizontal;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        type: Enum(EDir),\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /** */\n    get layoutDir() { return this._layoutDir };\n    set layoutDir(val) { this._layoutDir = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        type: CCString,\n        visible() {\n            return this.listType != EListType.Page && this.listType == EListType.ScrollList && !!(this.scrollDir & 1);\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    private get alignType_hor_tips() { return \"\" }\n    @property\n    private _alignType_hor = EAlignType_Hor.Center;\n    @property({\n        displayName: \"\",\n        tooltip: \"LeftCenterRight\",\n        type: Enum(EAlignType_Hor),\n        visible() {\n            return this.listType != EListType.Page && !(this.listType == EListType.ScrollList && this.scrollDir & 1);\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /** */\n    get alignType_hor() { return this._alignType_hor };\n    set alignType_hor(val) { this._alignType_hor = val; this.onChangeParams(); }\n    @property\n    private _isAlignChild_hor: boolean = false;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        visible() {\n            return this.listType != EListType.Page && !(this.listType == EListType.ScrollList && this.scrollDir & 1) && this.layoutDir == EDir.Horizontal;\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /** */\n    get isAlignChild_hor() { return this._isAlignChild_hor; }\n    set isAlignChild_hor(val) { this._isAlignChild_hor = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        type: CCString,\n        visible() {\n            return this.listType != EListType.Page && (this.listType == EListType.ScrollList) && !!(this.scrollDir & 2);\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    private get alignType_ver_tips() { return \"\" }\n    @property\n    private _alignType_ver = EAlignType_Ver.Top;\n    @property({\n        displayName: \"\",\n        tooltip: \"TopCenterBottom\",\n        type: Enum(EAlignType_Ver),\n        visible() {\n            return this.listType != EListType.Page && !(this.listType == EListType.ScrollList && this.scrollDir & 2);\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /** */\n    get alignType_ver() { return this._alignType_ver };\n    set alignType_ver(val) { this._alignType_ver = val; this.onChangeParams(); }\n    @property\n    private _isAlignChild_ver: boolean = false;\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        visible() {\n            return this.listType != EListType.Page && !(this.listType == EListType.ScrollList && this.scrollDir & 2) && this.layoutDir == EDir.Vertical;\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /** */\n    get isAlignChild_ver() { return this._isAlignChild_ver; }\n    set isAlignChild_ver(val) { this._isAlignChild_ver = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        type: CCString,\n        visible() {\n            return this.listType == EListType.Page;\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    private get banAlignHorTips() { return \"Page\"; }\n    private _layoutInfo: ILayoutInfo = {\n        col: 1,\n        row: 1,\n        size: new Size(1, 1),\n        boundSize: new Size(1, 1),\n        spaceX: 0,\n        spaceY: 0,\n        num: 0,\n    };\n    @property\n    private _padding_top: number = 0;\n    @property\n    private _padding_left: number = 0;\n    @property\n    private _padding_bottom: number = 0;\n    @property\n    private _padding_right: number = 0;\n    @property({ displayName: \"\", visible() { return this.listType == EListType.Page }, group: { name: \"\", style: \"tab\", id: \"1\" } })\n    private get tips() { return \"\" }\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        visible() {\n            return this.listType != EListType.Page;\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /**realPaddingTop */\n    get padding_top(): number { return this._padding_top };\n    set padding_top(val) { this._padding_top = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        visible() {\n            return this.listType != EListType.Page;\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /**realPaddingLeft */\n    get padding_left() { return this._padding_left };\n    set padding_left(val) { this._padding_left = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        visible() {\n            return this.listType != EListType.Page;\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    get padding_bottom() { return this._padding_bottom };\n    set padding_bottom(val) { this._padding_bottom = val; this.onChangeParams(); }\n    @property({\n        displayName: \"\",\n        tooltip: \"\",\n        visible() {\n            return this.listType != EListType.Page;\n        },\n        group: { name: \"\", style: \"tab\", id: '1' }\n    })\n    /**realPaddingRight */\n    get padding_right() { return this._padding_right };\n    set padding_right(val) { this._padding_right = val; this.onChangeParams(); }\n\n    /** */\n    get layoutInfo() { return this._layoutInfo; }\n    private _trans: UITransform;\n    get trans() {\n        if (!this._trans)\n            this._trans = this.getComponent(UITransform);\n        return this._trans;\n    }\n    get loopDir() {\n        return this.listType == EListType.Layout ? EOverflowDir.None :\n            (this.scrollDir as number as EOverflowDir)\n    }\n    get overflowDir() {\n        let hor = this.strech_hor == EStrechType.Overflow ? 1 : 0;\n        let ver = this.strech_ver == EStrechType.Overflow ? 2 : 0;\n        return (hor + ver) as EOverflowDir;\n    }\n    @property({ group: { name: \"ReadonlyContent Info\", style: \"section\" }, readonly: true, displayName: \"\" })\n    get contentOffset() { return !this.content ? v2() : v2(this.content.position.x, this.content.position.y) }\n    @property({ group: { name: \"ReadonlyContent Info\", style: \"section\" }, displayName: \"\" })\n    get realCol() { return this.layoutInfo == null ? 0 : this.layoutInfo.col; }\n    @property({ group: { name: \"ReadonlyContent Info\", style: \"section\" }, displayName: \"\" })\n    get realRow() { return this.layoutInfo == null ? 0 : this.layoutInfo.row; }\n    @property({ group: { name: \"ReadonlyContent Info\", style: \"section\" }, displayName: \"\" })\n    get realSpaceX() { return this.layoutInfo == null ? 0 : this.layoutInfo.spaceX; }\n    @property({ group: { name: \"ReadonlyContent Info\", style: \"section\" }, displayName: \"\" })\n    get realSpaceY() { return this.layoutInfo == null ? 0 : this.layoutInfo.spaceY; }\n    @property({ group: { name: \"ReadonlyContent Info\", style: \"section\" }, displayName: \"\" })\n    get realItemSize() { return this.listType == EListType.Page && this.fullPage ? this.trans.contentSize : this.itemSize }\n    get layoutSize() { return this.layoutInfo.size; }\n    get viewSize() { return this.trans.contentSize; }\n    get realPaddingLeft() { return this.listType == EListType.Page ? 0 : this.padding_left; }\n    get realPaddingRight() { return this.listType == EListType.Page ? 0 : this.padding_right; }\n    get realPaddingTop() { return this.listType == EListType.Page ? 0 : this.padding_top; }\n    get realPaddinBottom() { return this.listType == EListType.Page ? 0 : this.padding_bottom; }\n    get childAlign_hor() { return !this.isAlignChild_hor || this.listType == EListType.ScrollList && !!(this.scrollDir & 1) || this.layoutDir != EDir.Horizontal ? EAlignType_Hor.Left : this.alignType_hor; }\n    get childAlign_ver() { return !this.isAlignChild_ver || this.listType == EListType.ScrollList && !!(this.scrollDir & 2) || this.layoutDir != EDir.Vertical ? EAlignType_Ver.Top : this.alignType_ver; }\n    private onChangeParams() {\n        this.refreshStruct();\n        if (isInEditorMode) {\n            this.updateLayout(this.preItemNum);\n            for (let i = 0; i < this.preItemNum; i++) {\n                let idx = this.isRevertSiblingOrder ? this.preItemNum - i - 1 : i;\n                if (this.content.children.length <= i) {\n                    let node = instantiate(this.itemPrefab);\n                    node.name = `preview_${this.itemPrefab.name}${i}`;\n                    node.setParent(this.content);\n                    node.position = V3(this.getPosInfo(idx).center);\n                }\n                else {\n                    this.content.children[i].position = V3(this.getPosInfo(idx).center);\n                }\n                if (this.listType == EListType.Page) {\n                    this.content.children[i].getComponent(UITransform).setContentSize(this.realItemSize);\n                    this.content.parent.getComponent(UITransform).setContentSize(this.realItemSize);\n                }\n                this.content.children[i].hasChangedFlags |= TransformBit.TRS;\n                this.content.children[i]._objFlags |= CCObject.Flags.EditorOnly;\n            }\n            let childrenTmp = [...this.content.children]\n            for (let i = this.preItemNum; i < childrenTmp.length; i++) {\n                childrenTmp[i].destroy();\n            }\n            this.alignContentPos(true);\n\n        }\n        else {\n            this.updateLayout(this.infos.length);\n            this.infos.forEach(e => this.refreshNodeTrans(e));\n            this.alignContentPos(true);\n            this.refreshView();\n        }\n    }\n\n    //(0,1)\n    @property({ type: Node, group: { name: \"ReadonlyNode Reference \", style: \"section\" }, readonly: true })\n    private content: Node = null;\n    get contentNode() { return this.content; }\n    @property({ type: Node, group: { name: \"ReadonlyNode Reference \", style: \"section\" }, readonly: true })\n    private view: Node = null;\n    get viewNode() { return this.view; }\n    @property({ type: Node, group: { name: \"ReadonlyNode Reference \", style: \"section\" }, readonly: true })\n    private recycleFolder: Node = null;\n    get recycleFolderNode() { return this.recycleFolder; }\n    @property({ type: Node, group: { name: \"ReadonlyNode Reference \", style: \"section\" }, readonly: true })\n    private scrollRect: Node = null;\n    get scrollRectNode() { return this.scrollRect; }\n    //#endregion\n\n    //#region runtime args\n    //valuechildkey\n    private itemChildMap: Map<Node, { child: Node, path: string, skipParent: boolean }[]> = new Map();\n    private layerMap: Map<string, Node> = new Map()\n    private refreshDelayFuncs: Function[] = [];\n    private relativeListCom: VList[] = [];\n    private get rootLayer() { return this.itemPrefab ? this.layerMap.get(this.itemPrefab.data.name) : null; }\n\n    private executeLock: boolean = false;//foreach\n\n    private _infos: IVListItemInfo[] = [];\n    private _parentInfo: IVListItemInfo<any> = null;\n    /** */\n    get parentInfo() { return this._parentInfo; }\n    /** */\n    get infos() { return this._infos as IVListItemInfo<T>[]; }\n    /** */\n    get datas() { return this.infos.map(e => e.data as T) }\n    /**-1 */\n    get pageCnt() {\n        if (this.listType != EListType.Page)\n            return -1;\n        if (this.scrollDir == EScrollDir.Horizontal)\n            return this.layoutInfo.col;\n        else if (this.scrollDir == EScrollDir.Vertical)\n            return this.layoutInfo.row;\n        else {\n            return -1;\n        }\n    }\n    private _pageIdx: number = 0;\n    /**getLocation()focus()locate() */\n    get pageIdx() {\n        if (this.scrollDir == EScrollDir.Both) {\n            warn(\"getLocation\");\n            return -1;\n        }\n        return this._pageIdx;\n    }\n    /** */\n    get curPageInfo() {\n        if (this.listType != EListType.Page)\n            return null;\n        return this.infos[this.pageIdx];\n    }\n    /**,scrollingscrollpagescrollAnchor */\n    get progress() {\n        if (this.listType == EListType.Layout)\n            return -1;\n        let info = this.layoutInfo;\n        let validOffset = v2(this.viewSize.x / 2, -this.viewSize.y / 2).add(this.contentOffset)\n        let validSize = this.isLoop ?\n            v2(info.boundSize.x + info.spaceX, info.boundSize.y + info.spaceY) :\n            v2(info.size.x - this.viewSize.x, info.size.y - this.viewSize.y);\n        let x = -validOffset.x / validSize.x;\n        let y = validOffset.y / validSize.y;\n        if (this.scrollDir == EScrollDir.Horizontal)\n            return x;\n        else if (this.scrollDir == EScrollDir.Vertical)\n            return y;\n        else\n            return -1;\n    }\n    set progress(val: number) {\n        if (this.listType == EListType.Layout)\n            return;\n        let info = this.layoutInfo;\n        let com = this.scrollRect.getComponent(FixedScrollView);\n        com.stopAutoScroll();\n        let validSize = this.isLoop ?\n            v2(info.boundSize.x + info.spaceX, info.boundSize.y + info.spaceY) :\n            v2(info.size.x - this.viewSize.x, info.size.y - this.viewSize.y);\n        let offsetProcess = validSize;\n        if (this.scrollDir == EScrollDir.Horizontal)\n            offsetProcess.x *= val;\n        else if (this.scrollDir == EScrollDir.Vertical)\n            offsetProcess.y *= val;\n        else\n            return;\n        let validOffset = v3(-offsetProcess.x - this.viewSize.x / 2, offsetProcess.y + this.viewSize.y / 2, 0);\n        this.content.setPosition(validOffset);\n        this.alignContentPos();\n        this.refreshView();\n    }\n    /**,scrollingscrollpageprogress */\n    get scrollAnchor() {\n        if (this.listType == EListType.Layout)\n            return v2(-1, -1);\n        let com = this.scrollRect.getComponent(FixedScrollView);\n        return com.scrollAnchor;\n    }\n    set scrollAnchor(val: Vec2) {\n        if (this.listType == EListType.Layout)\n            return;\n        let com = this.scrollRect.getComponent(FixedScrollView);\n        com.scrollTo(val);\n        this.refreshView()\n    }\n    /** */\n    get isInFlow() { return Math.abs(this.autoFlowSpeedX) + Math.abs(this.autoFlowSpeedY) > 0.01 && this.flowTimer <= this.flowResumeTime }\n    private flowTimer: number = 0;\n    private realFlowSpeed: Vec2 = v2();\n    /** */\n    get flowSpeed_v() { return this.realFlowSpeed; }\n    /** */\n    get flowSpeed() {\n        if (this.scrollDir == EScrollDir.Horizontal)\n            return this.realFlowSpeed.x;\n        else if (this.scrollDir == EScrollDir.Vertical)\n            return this.realFlowSpeed.y;\n        return 0;\n    }\n    set flowSpeed(val: number) {\n        if (this.scrollDir == EScrollDir.Horizontal)\n            this.autoFlowSpeedX = val;\n        else if (this.scrollDir == EScrollDir.Vertical)\n            this.autoFlowSpeedY = val;\n    }\n\n\n    private nodePools: Node[] = [];\n    private registerInfos: IRegisterInfo[] = [];\n    /** */\n    cb: IVListItemHooks<T> = {}\n\n\n    //#endregion\n    private refreshItemCom() {\n        let trans = this.itemPrefab.data.getComponent(UITransform) as UITransform;\n        if (!trans)\n            error(\"itemPrefabUITransform\");\n        else if (trans.anchorPoint.x != 0.5 || trans.anchorPoint.y != 0.5) {\n            warn(\"itemPrefabanchorPoint\");\n        }\n        if (this.listType == EListType.Page && this.content) {\n            this.content.parent.getComponent(UITransform).setContentSize(this.realItemSize);\n        }\n        let node = this.itemPrefab.data as Node;\n        this.comKeyList = [];\n        this.comPathList = [];\n        this.comShowList = [];\n        let subLists: VList[] = [];\n        let scan = (n: Node, path: string = \"\") => {\n            let subList = n.getComponent(VList);\n            if (!subList)\n                for (let i = 0; i < n.children.length; i++) {\n                    let c = n.children[i]\n                    if (c.name.startsWith(this.comPrefix)) {\n                        let renderCom = c.getComponent(UIRenderer);\n                        if (renderCom)\n                            this.comShowList.push(`${renderCom.name}`);\n                        else\n                            this.comShowList.push(`${c.name}<Node>`)\n                        this.comKeyList.push(c.name)\n                        this.comPathList.push(`${path}${c.name}`)\n                    }\n                    scan(c, `${path}${c.name}/`);\n                }\n            else if (subList.itemPrefab) {\n                subLists.push(subList);\n                subList.refreshItemCom();\n            }\n        }\n        scan(node);\n        while (subLists.length > 0) {\n            let list = subLists.shift();\n            this.comShowList.push(...list.comShowList.map(e => list.node.name + \" / \" + e));\n        }\n    }\n    /**contentlp */\n    lp2wp(lp: Vec3) {\n        return this.content.getComponent(UITransform).convertToWorldSpaceAR(lp);\n    }\n    /**wpcontent */\n    wp2lp(wp: Vec3) {\n        return this.content.getComponent(UITransform).convertToNodeSpaceAR(wp);\n    }\n    private onInitRegister() {\n        log(\"register\")\n        // this.node.on(NodeEventType.SIZE_CHANGED, this.onChangeParams, this);\n        this.node.on(NodeEventType.SIZE_CHANGED, () => {\n            this.waitExecute(() => this.onChangeParams());\n        }, this);\n        if (this.scrollRect && this.scrollRect.isValid) {\n            this.scrollRect.on(FixedScrollView.EventType.SCROLLING, this.onScrolling, this);\n            this.scrollRect.on(FixedScrollView.EventType.SCROLL_BEGAN, this.onScrollStart, this);\n            this.scrollRect.on(FixedScrollView.EventType.TOUCH_UP, this.onScrollEnd, this);\n            this.scrollRect.on(FixedScrollView.FINISH_AUTO_SCROLL, this.onScrollFinish, this);\n        }\n    }\n    private onScrolling() {\n        this.refreshView();\n        if (this.listType == EListType.Layout)\n            return;\n        for (let i = 0; i < this.relativeListCom.length; i++) {\n            let target = this.relativeListCom[i];\n            if (target.listType == EListType.Layout)\n                return;\n            if (target.scrollDir == EScrollDir.Both || this.scrollDir == EScrollDir.Both)\n                target.scrollAnchor = this.scrollAnchor;\n            else\n                target.progress = this.progress;\n\n        }\n        this.node.emit(VListEvent.OnScrolling);\n\n    }\n    private onScrollFinish() {\n        if (this.listType == EListType.Page) {\n            let idx = this.getFocus();\n            let posInfo = this.getPosInfo(idx).center;\n            this.content.position = v3(-posInfo.x, -posInfo.y, 0);\n        }\n    }\n    private clearPool() {\n        if (this.recycleFolder && this.recycleFolder.isValid)\n            [...this.recycleFolder.children].forEach(e => {\n                this.cb.onDestroy && this.cb.onDestroy({\n                    get: <K extends Component>(key: string, ctor: new () => K) => {\n                        return this.getItemComByKey(e, key, ctor) as K;\n                    },\n                    getNode: (key: string) => {\n                        return this.getItemComByKey(e, key, null) as Node;\n                    },\n                    list: this,\n                    parent: this.parentInfo,\n                    node: e\n                })\n                e.destroy();\n                this.itemChildMap.delete(e);\n            });\n        this.nodePools = [];\n    }\n    /** */\n    clearAll() {\n        this.clearList();\n        this.itemChildMap.clear();\n        this.clearPool();\n        this.registerInfos = [];\n        this.cb = {};\n    }\n    /** */\n    clearList() {\n        this.recycleAll();\n        this._infos = [];\n        this._parentInfo = null;\n        this.refreshDelayFuncs = [];\n    }\n    private isInited: boolean = false;\n    /** */\n    init(itemCallback: IVListItemHooks<T>) {\n        this.isInited = true;\n        this.cb = itemCallback;\n        if (this.isRenderByLayer && this.itemPrefab) {\n            this.layerMap.clear();\n            let root = this.itemPrefab.data as Node;\n            let scan = (n: Node, path: string = \"\", position = v3()) => {\n                let curPath = `${path}${n.name}`;\n                let node = new Node(curPath);\n                let trans = node.addComponent(UITransform);\n                node.setParent(this.content);\n                trans.anchorPoint = v2(0, 1);\n                node.position = position;\n                this.layerMap.set(curPath, node);\n                if (!n.getComponent(VList))\n                    if (!this.ignoreComList.some(m => n.getComponent(m)))\n                        for (let i = 0; i < n.children.length; i++) {\n                            let c = n.children[i]\n                            scan(c, `${curPath}-`, v3(position.x + c.position.x, position.y + c.position.y, position.z));\n                        }\n            }\n            scan(root);\n        }\n        this.relativeListCom = this.relativeList.map(e => !!e ? e.getComponent(VList) : null).filter(e => e && !!e.scrollRect);\n        this.realFlowSpeed = this.autoFlowSpeed;\n        this.isInited = true;\n    }\n    pauseFlow() {\n        if (!this.isLoop)\n            return;\n        this.flowTimer = this.flowWaitTime + this.flowResumeTime;\n    }\n    private getRenderItemInfo(realIdx: number, node: Node, info: IVListItemInfo<T>) {\n        let item: IRenderItemInfo<T> = {\n            realIdx,\n            loopIdx: Math.floor(realIdx / this.layoutInfo.num),\n            node,\n            get: <K extends Component>(key: string, ctor: new () => K) => {\n                return this.getItemComByKey(node, key, ctor) as K;\n            },\n            getNode: (key: string) => {\n                return this.getItemComByKey(node, key, null) as Node;\n            },\n            info,\n            isValid: true\n        }\n        return item;\n    }\n    private getInfoByData(data: T, idx: number) {\n        let info: IVListItemInfo<T> = {\n            idx: idx,\n            data: data,\n            node: null,\n            renderItems: [],\n            get: null,\n            getNode: null,\n            call: null,\n            isVisible: false,\n            list: this,\n            parent: this.parentInfo,\n        };\n        info.get = <K extends Component>(key: string, ctor: new () => K) => {\n            return this.getItemComByKey(info.node, key, ctor) as K;\n        };\n        info.getNode = (key: string) => {\n            return this.getItemComByKey(info.node, key, null) as Node;\n        }\n        info.call = (cb: VCallback<T>, realIdx: number | \"all\" = \"all\") => {\n            if (realIdx == \"all\")\n                info.renderItems.forEach(e => cb(info, e));\n            else {\n                let item = info.renderItems.find(e => e.realIdx == realIdx);\n                if (item) {\n                    cb(info, item);\n                }\n            }\n        }\n        return info;\n    }\n    /**compare */\n    sort(compare: (a: IVListItemInfo<T>, b: IVListItemInfo<T>) => number) {\n        this.infos.sort(compare).forEach((e, i) => {\n            e.idx = i;\n            this.refreshNodeTrans(e)\n        });\n        this.refreshList();\n    }\n    /**dataignoreResetfalse */\n    setData(datas: T[], parentInfo: IVListItemInfo<any> = null, ignoreReset: boolean = false) {\n        if (!this.isInited) {\n            this.init({});\n            return;\n        }\n        if (!datas)\n            return;\n        if (this.scrollRect) {\n            this.scrollRect.getComponent(FixedScrollView).stopAutoScroll();\n        }\n        this._parentInfo = parentInfo;\n        this.refreshStruct();\n        let exeFunc = () => {\n            this.recycleAll();\n            this.refreshDelayFuncs = [];\n            this._infos = datas.map((e, i) => this.getInfoByData(e, i));\n            this.updateLayout(datas.length);\n            this.alignContentPos(!ignoreReset);\n            this.refreshView();\n            let location = this.getLocation();\n            if (this.scrollDir != EScrollDir.Both)\n                this._pageIdx = this.scrollDir == EScrollDir.Horizontal ? location.x : location.y;\n        }\n        if (this.executeLock) {\n            this.waitExecute(exeFunc);\n        }\n        else {\n            exeFunc();\n        }\n    }\n    /**insertIdxdatainsertIdxnullfalseexePromise */\n    addData(data: T, insertIdx: number | \"none\" = \"none\"): boolean {\n        let exeFunc = () => {\n            let cnt = this.infos.length;\n            if (insertIdx == \"none\" || insertIdx >= cnt) {\n                let newInfo = this.getInfoByData(data, cnt);\n                this.infos.push(newInfo);\n            }\n            else {\n                if (insertIdx < 0)\n                    insertIdx = 0;\n                let newInfo = this.getInfoByData(data, insertIdx);\n                let after = [...this.infos].slice(insertIdx);\n                let before = [...this.infos].slice(0, insertIdx);\n                this._infos = before.concat(newInfo).concat(after);\n            }\n            this.infos.forEach((e, i) => {\n                e.idx = i;\n            })\n            this.updateLayout(this.infos.length);\n            this.infos.forEach(e => this.refreshNodeTrans(e));\n            this.alignContentPos();\n            this.refreshView();\n        }\n        if (this.executeLock) {\n            this.waitExecute(exeFunc);\n            return false;\n        }\n        else {\n            exeFunc();\n            return true;\n        }\n    }\n    /**datafalseexePromise */\n    deleteData(data: T) {\n        let idx = this.infos.findIndex(e => e.data == data);\n        if (idx < 0)\n            return true;\n        return this.deleteIdx(idx)\n    }\n    /**infoIdxfalseexePromise\n     * indexdeleteIndices */\n    deleteIdx(infoIdx: number) {\n        if (infoIdx < 0 || infoIdx >= this.infos.length)\n            return;\n        let exeFunc = () => {\n            let info = this.infos[infoIdx];\n            this.recycleAllNode(info);\n            this.infos.splice(infoIdx, 1);\n            this.infos.forEach((e, i) => {\n                e.idx = i;\n            })\n            this.updateLayout(this.infos.length);\n            this.infos.forEach(e => this.refreshNodeTrans(e));\n            this.alignContentPos();\n            this.refreshView();\n        }\n        if (this.executeLock) {\n            this.waitExecute(exeFunc);\n            return false;\n        }\n        else {\n            exeFunc();\n            return true;\n        }\n    }\n    /**deleteIdx */\n    deleteIndices(infoIndices: number[]) {\n        if (infoIndices.length == 0)\n            return true;\n        let exeFunc = () => {\n            let delInfos: IVListItemInfo<T>[] = [];\n            let remainInfos: IVListItemInfo<T>[] = [];\n            this.infos.forEach(e => {\n                if (infoIndices.indexOf(e.idx) >= 0)\n                    delInfos.push(e);\n                else\n                    remainInfos.push(e)\n            })\n            delInfos.forEach(e => this.recycleAllNode(e));\n            this._infos = remainInfos;\n            this.infos.forEach((e, i) => {\n                e.idx = i;\n            })\n            this.updateLayout(this.infos.length);\n            this.infos.forEach(e => this.refreshNodeTrans(e));\n            this.alignContentPos();\n            this.refreshView();\n        }\n        if (this.executeLock) {\n            this.waitExecute(exeFunc);\n            return false;\n        }\n        else {\n            exeFunc();\n            return true;\n        }\n\n    }\n    /**promise */\n    exePromise() {\n        return new Promise<void>((resolve) => {\n            if (!this.executeLock)\n                resolve();\n            else\n                this.waitExecute(resolve);\n        })\n    }\n    /**infoIdxrealIdxrealIdx */\n    refreshItem(infoIdx: number, realIdx: number | \"all\" = \"all\") {\n        if (!this.infos || infoIdx < 0 || infoIdx >= this.infos.length)\n            return;\n        let info = this.infos[infoIdx];\n        if (realIdx == \"all\") {\n            info.renderItems.forEach(e => {\n                info.node = e.node;\n                this.cb.onData && this.cb.onData(info, e)\n            });\n        }\n        else {\n            let renderItem = info.renderItems.find(e => e.realIdx == realIdx);\n            if (renderItem) {\n                info.node = renderItem.node;\n                this.cb.onData && this.cb.onData(info, renderItem);\n            }\n        }\n    }\n    /**key{nodeEvent,func,target}key\"\"VListevent */\n    register(key: string, nodeEvent: string, func: VCallback<T>, target?: any) {\n        let uniKey = `this/${key}_${nodeEvent}`;\n        let registerInfo: IRegisterInfo = {\n            uniKey,\n            evtId: nodeEvent,\n            callback: func.bind(target),\n            key: key\n        }\n        this.registerInfos.push(registerInfo);\n        this.infos.forEach(e => e.renderItems.forEach(f => this.registerNodeEvt(e, f, registerInfo)));\n    }\n    /**keynodeEvent */\n    unregister(key: string, nodeEvent: string) {\n        let uniKey = `this/${key}_${nodeEvent}`;\n        let index = this.registerInfos.findIndex(e => e.uniKey == uniKey);\n        if (index < 0)\n            return;\n        let registerInfo = this.registerInfos[index];\n        this.infos.forEach(e => e.renderItems.forEach(f => this.unregisterNodeEvt(e, f, registerInfo)));\n        this.registerInfos.splice(index, 1);\n    }\n    private registerNodeEvt(info: IVListItemInfo<T>, renderItemInfo: IRenderItemInfo<T>, registerInfo: IRegisterInfo) {\n        let node = registerInfo.key == \"\" ? renderItemInfo.node : renderItemInfo.getNode(registerInfo.key);\n        let cb = node[`custom_event_${registerInfo.uniKey}`] = () => registerInfo.callback(info);\n        node.on(registerInfo.evtId, cb, this);\n\n    }\n    private unregisterNodeEvt(info: IVListItemInfo, renderItemInfo: IRenderItemInfo<T>, registerInfo: IRegisterInfo) {\n        let node = registerInfo.key == \"\" ? renderItemInfo.node : renderItemInfo.getNode(registerInfo.key);\n        node.off(registerInfo.evtId, node[`custom_event_${registerInfo.uniKey}`], this);\n    }\n    /**node.getChildByPath(path) */\n    getChildByPath(node: Node, path: string) {\n        return this.getChildByPath_native(node, path);\n    }\n    private getChildByPath_native(node: Node, path: string, hasHead: boolean = false) {\n        if (!this.isRenderByLayer)\n            return node.getChildByPath(path);\n        else {\n            let children = this.itemChildMap.get(node);\n            if (!children)\n                return null;\n            let childInfo = children.find(e => e.path == (hasHead ? path : `${this.rootLayer.name}/${path}`));\n            if (!childInfo) {\n                error(`${this.node.name}${path}`);\n                return null;\n            }\n            return childInfo.child;\n        }\n    }\n    private getItemComByKey(node: Node, key: string, comType: new (...args: any[]) => Component) {\n        if (!node)\n            return null;\n        let pathIdx = this.comKeyList.findIndex(e => e == key);\n        if (pathIdx < 0) {\n            error(`${this.node.name}${this.itemPrefab.name}${key}!`);\n            return null;\n        }\n        let path = this.comPathList[pathIdx];\n        let targetNode = this.getChildByPath_native(node, path);\n        if (comType == null)\n            return targetNode;\n        else {\n            let com = targetNode.getComponent(comType);\n            if (!com) {\n                error(`${this.node.name}${this.itemPrefab.name}${path}${comType.name}`);\n                return null;\n            }\n            return com;\n        }\n    }\n    private refreshNodeTrans(info: IVListItemInfo) {\n        if (!info.node || !info.isVisible)\n            return;\n        for (let i = 0; i < info.renderItems.length; i++) {\n            let item = info.renderItems[i];\n            let pos = V3(this.getPosInfo(item.realIdx).center);\n            if (!this.isRenderByLayer) {\n                item.node.position = pos;\n                let wid = item.node.getComponent(Widget);\n                if (wid)\n                    wid.updateAlignment();\n            }\n            else {\n                let getParentPath = (path: string) => {\n                    const lastSlashIndex = path.lastIndexOf('/');\n                    if (lastSlashIndex === -1) return path; //  '/'\n                    return path.substring(0, lastSlashIndex);\n                }\n                item.node.getComponent(UITransform).setContentSize(this.realItemSize);\n                let children = this.itemChildMap.get(item.node);\n                children.forEach(e => {\n                    if (e.skipParent)\n                        return;\n                    let widget = e.child.getComponent(Widget);\n                    if (e.child != item.node && widget) {\n                        let parentTrans = this.getChildByPath_native(item.node, getParentPath(e.path), true).getComponent(UITransform);\n                        let childTrans = e.child.getComponent(UITransform);\n                        let res = WidgetUtils.align(parentTrans, e.child.getComponent(UITransform));\n                        childTrans.setContentSize(res.size);\n                    }\n\n                    e.child.setParent(this.layerMap.get(e.path.replace(/\\//g, \"-\")));\n                    e.child.position = pos;\n                });\n            }\n        }\n    }\n    private getNode(info: IVListItemInfo) {\n        if (!this.content) {\n            console.error(\"content\");\n            return;\n        }\n        let res: Node;\n        if (!this.isRenderByLayer) {\n            if (this.nodePools.length > 0) {\n                res = this.nodePools.pop();\n                res.setParent(this.content);\n            }\n            else {\n                res = instantiate(this.itemPrefab);\n                res.setParent(this.content);\n                let initInfo = {\n                    get: info.get,\n                    getNode: info.getNode,\n                    list: this,\n                    parent: info.parent,\n                    node: res\n                }\n                this.refreshDelayFuncs.push(() => (this.cb.onInstantiate && this.cb.onInstantiate(initInfo)));\n            }\n        }\n        else {\n            if (this.nodePools.length > 0) {\n                res = this.nodePools.pop();\n                let children = this.itemChildMap.get(res);\n                children.forEach(e => {\n                    if (e.skipParent)\n                        return;\n                    e.child.setParent(this.layerMap.get(e.path.replace(/\\//g, \"-\")));\n                });\n            }\n            else {\n                res = instantiate(this.itemPrefab);\n                res.getComponent(UITransform).setContentSize(this.realItemSize);\n                let childrenData: { child: Node, path: string, skipParent: boolean }[] = [];\n                this.itemChildMap.set(res, childrenData);\n                let scan = (n: Node, path: string = \"\", isSkipParent: boolean) => {\n                    let curPath = `${path}${n.name}`;\n                    childrenData.push({ child: n, path: curPath, skipParent: isSkipParent });\n                    let childSkipParent = isSkipParent || this.ignoreComList.some(m => n.getComponent(m));\n                    if (!n.getComponent(VList))\n                        for (let i = 0; i < n.children.length; i++) {\n                            let c = n.children[i]\n                            scan(c, `${curPath}/`, childSkipParent);\n                        }\n                }\n                scan(res, \"\", false);\n                childrenData.forEach(d => {\n                    if (d.skipParent)\n                        return;\n                    let n = d.child;\n                    let p = d.path;\n                    let wgt = n.getComponent(Widget);\n                    if (wgt) {\n                        wgt.updateAlignment();\n                        wgt.enabled = false;\n                    }\n                    n.setParent(this.layerMap.get(p.replace(/\\//g, \"-\")))\n                })\n                let initInfo = {\n                    get: info.get,\n                    getNode: info.getNode,\n                    list: this,\n                    parent: info.parent,\n                    node: res\n                }\n                this.refreshDelayFuncs.push(() => (this.cb.onInstantiate && this.cb.onInstantiate(initInfo)));\n            }\n\n        }\n        return res;\n    }\n    private initRenderItem(renderItem: IRenderItemInfo<T>) {\n        renderItem.node['custom_event_onClick'] = () => this.cb.onClick && this.cb.onClick(renderItem.info, renderItem);\n        renderItem.node.on(Node.EventType.TOUCH_END, renderItem.node['custom_event_onClick'], this);\n        this.registerInfos.forEach(e => this.registerNodeEvt(renderItem.info, renderItem, e));\n\n    }\n    /**idx */\n    idx2crd(realIdx: number) {\n        if (isInEditorMode)\n            realIdx = clamp(realIdx, 0, this.preItemNum - 1)\n        else if (!this.isLoop)\n            realIdx = clamp(realIdx, 0, this.layoutInfo.num - 1);\n        if (this.layoutDir == EDir.Vertical)\n            return v2(Math.floor(realIdx / this.realRow), realIdx % this.realRow);\n        else\n            return v2(Math.floor(realIdx / this.realCol), realIdx % this.realCol);\n    }\n    /**crdrealIdx */\n    crd2idx(crd: Vec2) {\n        let c = this.isLoop ? crd.x : clamp(crd.x, 0, this.realCol - 1);\n        let r = this.isLoop ? crd.y : clamp(crd.y, 0, this.realRow - 1);\n        if (this.layoutDir == EDir.Vertical)\n            return c * this.realRow + r;\n        else\n            return r * this.realCol + c;\n    }\n    /**progressrealIdx */\n    progress2idx(progress: number) {\n        if (this.listType == EListType.Layout || this.scrollDir == EScrollDir.Both)\n            return -1;\n        let lp = v2();\n        let loopSize = v2(this.layoutInfo.boundSize.x + this.realSpaceX, this.layoutInfo.boundSize.y + this.realSpaceY);\n        if (this.scrollDir == EScrollDir.Horizontal) {\n            // lp.x = this.isLoop ? - progress * (this.layoutInfo.size.width + this.layoutInfo.spaceX) - this.viewSize.width / 2 :\n            //     progress * (this.viewSize.width - this.layoutInfo.size.width) - this.viewSize.width / 2;\n            lp.x = this.isLoop ? -progress * loopSize.x - this.viewSize.width / 2 :\n                progress * (this.viewSize.width - this.layoutInfo.size.x) - this.viewSize.width / 2\n            lp.y = -this.contentOffset.y;\n        }\n        else {\n            lp.y = this.isLoop ? progress * loopSize.y + this.viewSize.height / 2 :\n                progress * (this.viewSize.height - this.layoutInfo.size.height) + this.viewSize.height / 2;\n            lp.x = -this.contentOffset.x;\n        }\n\n        return this.testItemIdxByLp(lp);\n    }\n    /**realIdxprogress */\n    idx2progress(realIdx: number) {\n        if (this.listType == EListType.Layout || this.scrollDir == EScrollDir.Both)\n            return -1;\n        let lp = this.getPosInfo(realIdx).center;\n        let contentSize = v2(this.layoutInfo.boundSize.x + this.realSpaceX, this.layoutInfo.boundSize.y + this.realSpaceY);\n        if (this.scrollDir == EScrollDir.Horizontal) {\n            return this.isLoop ? (lp.x - this.viewSize.width / 2) / contentSize.x :\n                (lp.x - this.viewSize.width / 2) / (this.layoutInfo.size.x - this.viewSize.width / 2);\n        }\n        else {\n            return this.isLoop ? -(lp.y + this.viewSize.y / 2) / contentSize.y :\n                (lp.y + this.viewSize.y / 2) / (this.viewSize.height - this.layoutInfo.size.y);\n        }\n\n    }\n    /**realItemSize.xy+layout.spaceXY */\n    getVec() {\n        let layout = this.layoutInfo;\n        let unitSize = v2(this.realItemSize.x + layout.spaceX, this.realItemSize.y + layout.spaceY);\n        let curCrd = v2((-this.contentOffset.x - this.realPaddingLeft) / unitSize.x, (this.contentOffset.y - this.realPaddingTop) / unitSize.y);\n        return curCrd;\n    }\n    /** */\n    getLocation(): Vec2 {\n        let curCrd = this.getVec();\n        let layout = this.layoutInfo;\n        let unitSize = v2(this.realItemSize.x + layout.spaceX, this.realItemSize.y + layout.spaceY);\n        let spaceRatio = v2(layout.spaceX / unitSize.x, layout.spaceY / unitSize.y);\n        let centerCrd = Vec2.floor(v2(), curCrd);\n        let anchor = v2((1 - spaceRatio.x) / 2, (1 - spaceRatio.y) / 2);\n        let crdOffset = v2(curCrd.x - centerCrd.x - anchor.x, curCrd.y - centerCrd.y - anchor.y);\n        if (crdOffset.x > 0 && crdOffset.x > 0.5)\n            centerCrd.x++;\n        else if (crdOffset.x < 0 && crdOffset.x < -0.5)\n            centerCrd.x--;\n        if (crdOffset.y > 0 && crdOffset.y > 0.5)\n            centerCrd.y++;\n        else if (crdOffset.y < 0 && crdOffset.y < -0.5)\n            centerCrd.y--;\n        if (!this.isLoop) {\n            centerCrd.x = clamp(centerCrd.x, 0, layout.col - 1);\n            centerCrd.y = clamp(centerCrd.y, 0, layout.row - 1);\n        }\n        return centerCrd;\n    }\n    /** */\n    getFocus() {\n        let location = this.getLocation();\n        if (this.layoutDir == EDir.Horizontal) {\n            return location.y * this.layoutInfo.col + location.x;\n        }\n        else {\n            return location.x * this.layoutInfo.row + location.y;\n        }\n    }\n    /**timeisLooptrue */\n    turnPrevious(time: number = 0.4, isLoop: boolean = false) {\n        if (this.listType != EListType.Page)\n            return;\n        if (this.scrollDir == EScrollDir.Both) {\n            warn(\"locate\");\n            return;\n        }\n        let previousPageIdx = isLoop ? (this.pageIdx - 1 + this.pageCnt) % this.pageCnt : clamp(this.pageIdx - 1, 0, this.pageCnt - 1);\n        if (this.scrollDir == EScrollDir.Horizontal)\n            this.locate(v2(previousPageIdx, 0), time);\n        else\n            this.locate(v2(0, previousPageIdx), time)\n    }\n    /**timeisLooptrue */\n    turnNext(time: number = 0.4, isLoop: boolean = false) {\n        if (this.listType != EListType.Page)\n            return;\n        if (this.scrollDir == EScrollDir.Both) {\n            warn(\"locate\");\n            return;\n        }\n        let nextPageIdx = isLoop ? (this.pageIdx + 1) % this.pageCnt : clamp(this.pageIdx + 1, 0, this.pageCnt - 1);\n        if (this.scrollDir == EScrollDir.Horizontal)\n            this.locate(v2(nextPageIdx, 0), time);\n        else\n            this.locate(v2(0, nextPageIdx), time)\n    }\n    moveDelta(delta: Vec2) {\n        this.content.translate(v3(delta.x, delta.y, 0));\n    }\n    private isInFocus = false;\n    private focusTwn: Tween<any> = null;\n    /**timecrdendCallbacktime */\n    locate(crd: Vec2, time?: number, endCallback?: Function) {\n        this.focus(this.crd2idx(crd), time, endCallback)\n    }\n    /**timetargetendCallbacktime */\n    focus(target: Location, time?: number, endCallback?: Function) {\n        if (this.layoutInfo.num <= 0)\n            return;\n        if (this.listType == EListType.Layout) {\n            warn(\"focuslocateScrollListPage\")\n            return;\n        }\n        let scrollView = this.scrollRect.getComponent(FixedScrollView);\n        // scrollView.stopAutoScroll();\n        switch (target) {\n            case \"Top\":\n                scrollView.scrollToTop(time, true);\n                this._pageIdx = 0;\n                break;\n            case \"Bottom\":\n                scrollView.scrollToBottom(time, true);\n                this._pageIdx = this.layoutInfo.row - 1;\n                break;\n            case \"Left\":\n                scrollView.scrollToLeft(time, true);\n                this._pageIdx = 0;\n                break;\n            case \"Right\":\n                scrollView.scrollToRight(time, true);\n                this._pageIdx = this.layoutInfo.col - 1;\n                break;\n            case \"Start\":\n                this.focus(0, time);\n                break;\n            case \"End\":\n                this.focus(this.infos.length - 1, time)\n                break;\n            default:\n                let idx = target;\n                let pos = this.getPosInfo(idx).center;\n                let contentSize = this.layoutInfo.size;\n                let containerSize = this.content.parent.getComponent(UITransform).contentSize;\n                let scrollSize = v2(contentSize.width - containerSize.width, contentSize.height - containerSize.height);\n                let anchorOffset = v2((pos.x - containerSize.width / 2) / scrollSize.x, (pos.y + containerSize.height / 2) / -scrollSize.y);\n                if (this.isLoop) {\n                    anchorOffset.y = 1 - anchorOffset.y;\n                }\n                else {\n                    anchorOffset.x = clamp01(anchorOffset.x);\n                    anchorOffset.y = 1 - clamp01(anchorOffset.y);\n                }\n                scrollView.scrollTo(anchorOffset, time, true);\n                let colIdx = this.layoutDir == EDir.Horizontal ? target % this.layoutInfo.col : Math.floor(target / this.layoutInfo.row);\n                let rowIdx = this.layoutDir == EDir.Horizontal ? Math.floor(target / this.layoutInfo.col) : target % this.layoutInfo.row;\n                if (this.scrollDir != EScrollDir.Both) {\n                    this._pageIdx = this.scrollDir == EScrollDir.Horizontal ? colIdx : rowIdx;\n                }\n                break;\n        }\n        this.focusTwn && this.focusTwn.stop();\n        if (time) {\n            this.isInFocus = true;\n            this.focusTwn = tween(this).delay(time).call(() => {\n                this.isInFocus = false;\n                endCallback && endCallback();\n            }).start();\n        }\n        else {\n            endCallback && endCallback();\n            this.onScrolling();\n        }\n        this.pauseFlow();\n    }\n\n    private recycleAll() {\n        this.infos.forEach(info => {\n            this.recycleAllNode(info);\n        });\n    }\n    private recycleAllNode(info: IVListItemInfo) {\n        if (!this.recycleFolder) {\n            console.error(\"\");\n            return;\n        }\n        for (let i = 0; i < info.renderItems.length; i++) {\n            this.recycleRenderItem(info, info.renderItems[i]);\n        }\n        info.renderItems = [];\n        info.node = null;\n        info.isVisible = false;\n    }\n    private recycleRenderItem(info: IVListItemInfo<T>, renderItem: IRenderItemInfo<T>) {\n        if (!this.recycleFolder) {\n            console.error(\"\");\n            return;\n        }\n        let targetNode = renderItem.node;\n        renderItem.isValid = false;\n        if (targetNode.isValid) {\n            if (!this.isRenderByLayer) {\n                targetNode.setParent(this.recycleFolder);\n            }\n            else {\n                this.itemChildMap.get(targetNode).forEach(e => !e.skipParent && e.child.setParent(this.recycleFolder));\n            }\n            targetNode.off(Node.EventType.TOUCH_END, targetNode['custom_event_onClick'], this);\n            targetNode['custom_event_onClick'] = null;\n            this.registerInfos.forEach(e => this.unregisterNodeEvt(info, renderItem, e));\n            this.nodePools.push(targetNode);\n        }\n    }\n    private hasInitRegister = false;\n    private refreshStruct() {\n        let trans = this.trans;\n        let rootSize = trans.contentSize;\n        this.recycleFolder = this.view = this.content = this.scrollRect = null;\n        this.recycleFolder = this.node.getChildByName(RecycleNodeName);\n        if (!this.recycleFolder) {\n            this.recycleFolder = new Node(RecycleNodeName);\n            this.recycleFolder.setParent(this.node);\n            this.recycleFolder.hideFlags |= CCObject.Flags.LockedInEditor;\n        }\n        this.recycleFolder.active = false;\n        let wgt: Widget;\n        let scrollCom: FixedScrollView;\n        switch (this.listType) {\n            case EListType.Layout:\n                [...this.node.children].forEach(e => {\n                    if (e.name != RecycleNodeName && e.name != ContentNodeName) {\n                        if (isInEditorMode && !e.name.startsWith(\"v_\")) {\n                            error(\"VList\" + this.node.getPathInHierarchy());\n                        } else {\n                            e.destroy();\n                        }\n                    }\n                })\n                this.view = null;\n                this.scrollRect = null;\n                this.content = this.node.getChildByName(ContentNodeName);\n                if (!this.content) {\n                    this.content = new Node(ContentNodeName);\n                    this.content.layer = this.node.layer;\n                    this.content.setParent(this.node);\n                    let contentTrans = this.content.addComponent(UITransform);\n                    this.content.position = v3();\n                    contentTrans.anchorPoint = v2(0, 1);\n                    contentTrans.setContentSize(rootSize);\n                }\n                break;\n            case EListType.ScrollList:\n                [...this.node.children].forEach(e => {\n                    if (e.name != RecycleNodeName && e.name != ScrollNodeName) {\n                        if (isInEditorMode && !e.name.startsWith(\"v_\")) {\n                            error(\"VList\" + this.node.getPathInHierarchy());\n                        } else {\n                            e.destroy();\n                        }\n                    }\n                })\n                this.scrollRect = this.node.getChildByName(ScrollNodeName);\n                if (!this.scrollRect) {\n                    this.scrollRect = new Node(ScrollNodeName);\n                    this.scrollRect.setParent(this.node);\n                    scrollCom = this.scrollRect.addComponent(FixedScrollView);\n                    this.scrollRect.layer = this.node.layer;\n                    scrollCom.horizontal = !!(this.scrollDir & 1);\n                    scrollCom.vertical = !!(this.scrollDir & 2);\n                    this.scrollRect.getComponent(UITransform).setContentSize(rootSize);\n                    this.scrollRect.position = v3();\n                    wgt = this.scrollRect.addComponent(Widget);\n                    wgt.alignMode = Widget.AlignMode.ALWAYS;\n                    wgt.isAlignLeft = wgt.isAlignBottom = wgt.isAlignTop = wgt.isAlignRight = true;\n                    wgt.left = wgt.top = wgt.right = wgt.bottom = 0;\n                    this.scrollRect.hideFlags |= CCObject.Flags.LockedInEditor;\n                }\n                else\n                    scrollCom = this.scrollRect.getComponent(FixedScrollView);\n                scrollCom.isInfinity = this.isLoop;\n\n                this.view = this.scrollRect.getChildByName(ViewNodeName);\n                if (!this.view) {\n                    this.view = new Node(ViewNodeName);\n                    this.view.setParent(this.scrollRect);\n                    this.view.addComponent(Mask);\n                    this.view.layer = this.node.layer;\n                    this.view.getComponent(UITransform).setContentSize(rootSize);\n                    wgt = this.view.addComponent(Widget);\n                    wgt.alignMode = Widget.AlignMode.ALWAYS;\n                    wgt.isAlignLeft = wgt.isAlignBottom = wgt.isAlignTop = wgt.isAlignRight = true;\n                    wgt.left = wgt.top = wgt.right = wgt.bottom = 0;\n                    this.view.position = v3();\n                }\n                this.content = this.view.getChildByName(ContentNodeName)\n                if (!this.content) {\n                    this.content = new Node(ContentNodeName);\n                    this.content.setParent(this.view);\n                    this.content.layer = this.node.layer;\n                    let contentTrans = this.content.addComponent(UITransform);\n                    contentTrans.anchorPoint = v2(0, 1);\n                    contentTrans.setContentSize(new Size(rootSize.width, 100));\n                    this.scrollRect.getComponent(FixedScrollView).content = this.content;\n                    this.content.position = v3(-trans.width / 2, trans.height / 2);\n                }\n                break;\n            case EListType.Page:\n                [...this.node.children].forEach(e => {\n                    if (e.name != RecycleNodeName && e.name != PageNodeName) {\n                        if (isInEditorMode && !e.name.startsWith(\"v_\")) {\n                            error(\"VList\" + this.node.getPathInHierarchy());\n                        } else {\n                            e.destroy();\n                        }\n                    }\n                })\n                this.scrollRect = this.node.getChildByName(PageNodeName);\n                if (!this.scrollRect) {\n                    this.scrollRect = new Node(PageNodeName);\n                    this.scrollRect.setParent(this.node);\n                    scrollCom = this.scrollRect.addComponent(FixedScrollView);\n                    scrollCom.allowTouch = this.allowTouchScroll;\n                    scrollCom.isHandleReleaseScroll = false;\n                    this.scrollRect.layer = this.node.layer;\n                    scrollCom.horizontal = !!(this.scrollDir & 1);\n                    scrollCom.vertical = !!(this.scrollDir & 2);\n                    this.scrollRect.getComponent(UITransform).setContentSize(rootSize);\n                    this.scrollRect.position = v3();\n                    wgt = this.scrollRect.addComponent(Widget);\n                    wgt.alignMode = Widget.AlignMode.ALWAYS;\n                    wgt.isAlignLeft = wgt.isAlignBottom = wgt.isAlignTop = wgt.isAlignRight = true;\n                    wgt.left = wgt.top = wgt.right = wgt.bottom = 0;\n                    this.scrollRect.hideFlags |= CCObject.Flags.LockedInEditor;\n                }\n                else\n                    scrollCom = this.scrollRect.getComponent(FixedScrollView);\n                scrollCom.isInfinity = this.isLoop;\n                this.view = this.scrollRect.getChildByName(ViewNodeName);\n                if (!this.view) {\n                    this.view = new Node(ViewNodeName);\n                    this.view.setParent(this.scrollRect);\n                    this.view.addComponent(Mask);\n                    this.view.layer = this.node.layer;\n                    this.view.getComponent(UITransform).setContentSize(new Size(rootSize.x, rootSize.y));\n                    wgt = this.view.addComponent(Widget);\n                    wgt.alignMode = Widget.AlignMode.ALWAYS;\n                    wgt.isAlignLeft = wgt.isAlignBottom = wgt.isAlignTop = wgt.isAlignRight = true;\n                    wgt.left = wgt.top = wgt.right = wgt.bottom = 0;\n                }\n                this.view.position = v3();\n                let itemRect = this.view.getChildByName(ItemRectNodeName);\n                if (!itemRect) {\n                    itemRect = new Node(ItemRectNodeName);\n                    itemRect.setParent(this.view);\n                    itemRect.layer = this.node.layer;\n                    itemRect.addComponent(UITransform);\n                }\n                let itemRectTrans = itemRect.getComponent(UITransform);\n                itemRectTrans.setContentSize(!this.itemPrefab ? new Size(100, 100) : this.realItemSize);\n                this.content = itemRect.getChildByName(ContentNodeName)\n                if (!this.content) {\n                    this.content = new Node(ContentNodeName);\n                    this.content.setParent(itemRect);\n                    this.content.layer = this.node.layer;\n                    let contentTrans = this.content.addComponent(UITransform);\n                    contentTrans.anchorPoint = v2(0, 1);\n                    contentTrans.setContentSize(new Size(rootSize.width, 100));\n                    this.scrollRect.getComponent(FixedScrollView).content = this.content;\n                    this.content.position = v3(-trans.width / 2, trans.height / 2);\n                }\n                break;\n        }\n        if (!this.hasInitRegister)\n            this.onInitRegister();\n        this.hasInitRegister = true;\n        this.lastContentOffset = this.contentOffset;\n    }\n    private alignContentPos(reset: boolean = false) {\n        let viewSize = this.trans.contentSize;\n        let contentSize = this.layoutInfo.size;\n        let itemSize = this.realItemSize;\n        let contentPos = this.contentOffset;\n        switch (this.listType) {\n            case EListType.Page:\n                if (!(this.scrollDir & 1)) {\n                    if (this.alignType_hor == EAlignType_Hor.Center)\n                        contentPos.x = - contentSize.x / 2;\n                    else if (this.alignType_hor == EAlignType_Hor.Left)\n                        contentPos.x = -itemSize.x / 2\n                    else if (this.alignType_hor == EAlignType_Hor.Right)\n                        contentPos.x = -contentSize.x + itemSize.x / 2;\n                }\n                else if (reset) {\n                    contentPos.x = -itemSize.x / 2\n                }\n                if (!(this.scrollDir & 2)) {\n                    if (this.alignType_ver == EAlignType_Ver.Top)\n                        contentPos.y = itemSize.y / 2\n                    else if (this.alignType_ver == EAlignType_Ver.Center)\n                        contentPos.y = contentSize.y / 2;\n                    else if (this.alignType_ver == EAlignType_Ver.Bottom)\n                        contentPos.y = contentSize.y - itemSize.y / 2;\n                }\n                else if (reset) {\n                    contentPos.y = itemSize.y / 2;\n                }\n                break;\n            case EListType.ScrollList:\n                if (!(this.scrollDir & 1)) {\n                    if (this.alignType_hor == EAlignType_Hor.Center)\n                        contentPos.x = -contentSize.width / 2;\n                    else if (this.alignType_hor == EAlignType_Hor.Left)\n                        contentPos.x = - viewSize.width / 2;\n                    else if (this.alignType_hor == EAlignType_Hor.Right)\n                        contentPos.x = viewSize.width / 2 - contentSize.width;\n                }\n                else if (reset) {\n                    contentPos.x = - viewSize.width / 2;\n                }\n                if (!(this.scrollDir & 2)) {\n                    if (this.alignType_ver == EAlignType_Ver.Top)\n                        contentPos.y = viewSize.height / 2;\n                    else if (this.alignType_ver == EAlignType_Ver.Center)\n                        contentPos.y = contentSize.height / 2;\n                    else if (this.alignType_ver == EAlignType_Ver.Bottom)\n                        contentPos.y = contentSize.height - viewSize.height / 2;\n                }\n                else if (reset) {\n                    contentPos.y = viewSize.height / 2;\n                }\n                break;\n            case EListType.Layout:\n                if (this.alignType_hor == EAlignType_Hor.Center)\n                    contentPos.x = -contentSize.width / 2;\n                else if (this.alignType_hor == EAlignType_Hor.Left)\n                    contentPos.x = - viewSize.width / 2;\n                else if (this.alignType_hor == EAlignType_Hor.Right)\n                    contentPos.x = viewSize.width / 2 - contentSize.width;\n                if (this.alignType_ver == EAlignType_Ver.Top)\n                    contentPos.y = viewSize.height / 2;\n                else if (this.alignType_ver == EAlignType_Ver.Center)\n                    contentPos.y = contentSize.height / 2;\n                else if (this.alignType_ver == EAlignType_Ver.Bottom)\n                    contentPos.y = contentSize.height - viewSize.height / 2;\n                break;\n        }\n        this.content.position = V3(contentPos);\n    }\n    isOutOfScroll() {\n        return this.scrollRect.getComponent(FixedScrollView).isOutOfBoundary;\n    }\n    private updateLayout(len: number) {\n        let itemSize = this.realItemSize;\n        let col = this.col;\n        let row = this.row;\n        let space_x = this.space_x;\n        let space_y = this.space_y;\n        let trans = this.trans;\n        let validSize = { width: trans.width - this.padding_left - this.padding_right, height: trans.height - this.padding_top - this.padding_bottom };\n        let getCol: () => void = null;\n        let getRow: () => void = null;\n        let cnt = 0;\n        //0:horizontal  1:vertical\n        getCol = () => {\n            cnt++;\n            if (cnt >= 100) {\n                log(\"\")\n                return;\n            }\n            switch (this.strech_hor) {\n                case EStrechType.Clamp:\n                    if (this.layoutDir == EDir.Horizontal)\n                        col = Math.max(1, Math.min(len, Math.floor((validSize.width + this.space_x) / (itemSize.width + this.space_x))))\n                    else {\n                        if (this.strech_ver == EStrechType.Overflow)\n                            col = 1;\n                        else {\n                            getRow();\n                            col = Math.ceil(len / row);\n                        }\n                    }\n                    break;\n                case EStrechType.Expand:\n                    if (this.layoutDir == EDir.Horizontal) {\n                        col = clamp(Math.floor((validSize.width + this.space_min_x) / (itemSize.width + this.space_min_x)), 1, len)\n                        space_x = col == 1 ? 0 : (validSize.width - col * itemSize.width) / (col - 1);\n                    }\n                    else {\n                        if (this.strech_ver == EStrechType.Overflow)\n                            col = 1;\n                        else {\n                            getRow();\n                            col = Math.ceil(len / row);\n                            space_x = Math.max(this.space_min_x, (validSize.width - col * itemSize.width) / (col - 1));\n                        }\n                    }\n                    break;\n                case EStrechType.Fixed:\n                    if (this.layoutDir == EDir.Vertical && this.strech_ver == EStrechType.Overflow)\n                        col = 1;\n                    break;\n                case EStrechType.ExpandFixed:\n                    if (this.layoutDir == EDir.Vertical && this.strech_ver == EStrechType.Overflow)\n                        col = 1;\n                    else\n                        space_x = col == 1 ? 0 : (validSize.width - col * itemSize.width) / (col - 1);\n                    break;\n                case EStrechType.Overflow:\n                    if (this.layoutDir == EDir.Vertical && this.strech_ver == EStrechType.Overflow)\n                        col = 1;\n                    else {\n                        getRow();\n                        col = Math.ceil(len / row);\n                    }\n                    break;\n            }\n        }\n        getRow = () => {\n            cnt++;\n            if (cnt >= 100) {\n                log(\"\")\n                return;\n            }\n            switch (this.strech_ver) {\n                case EStrechType.Clamp:\n                    if (this.layoutDir == EDir.Vertical)\n                        row = Math.max(1, Math.floor((validSize.height + this.space_y) / (itemSize.height + this.space_y)))\n                    else {\n                        if (this.strech_hor == EStrechType.Overflow)\n                            row = 1;\n                        else {\n                            getCol();\n                            row = Math.ceil(len / col);\n                        }\n                    }\n                    break;\n                case EStrechType.Expand:\n                    if (this.layoutDir == EDir.Vertical) {\n                        row = clamp(Math.floor((validSize.height + this.space_min_y) / (itemSize.height + this.space_min_y)), 1, len)\n                        space_y = row == 1 ? 0 : (validSize.height - row * itemSize.height) / (row - 1);\n                    }\n                    else {\n                        if (this.strech_hor == EStrechType.Overflow)\n                            row = 1;\n                        else {\n                            getCol();\n                            row = Math.ceil(len / col);\n                            space_y = Math.max(this.space_min_y, (validSize.height - row * itemSize.height) / (row - 1));\n                        }\n                    }\n                    break;\n                case EStrechType.Fixed:\n                    if (this.layoutDir == EDir.Horizontal && this.strech_hor == EStrechType.Overflow)\n                        row = 1;\n                    break;\n                case EStrechType.ExpandFixed:\n                    if (this.layoutDir == EDir.Horizontal && this.strech_hor == EStrechType.Overflow)\n                        row = 1;\n                    else\n                        space_y = row == 1 ? 0 : (validSize.height - row * itemSize.height) / (row - 1);\n                    break;\n                case EStrechType.Overflow:\n                    if (this.layoutDir == EDir.Horizontal && this.strech_hor == EStrechType.Overflow)\n                        row = 1;\n                    else {\n                        getCol();\n                        row = Math.ceil(len / col);\n                    }\n                    break;\n            }\n        }\n        getCol();\n        getRow();\n        let boundSize = new Size(col * (itemSize.width + space_x) - space_x,\n            row * (itemSize.height + space_y) - space_y);\n        let size = new Size(boundSize.x + this.realPaddingLeft + this.realPaddingRight,\n            boundSize.y + this.realPaddingTop + this.realPaddinBottom);\n        this.content.getComponent(UITransform).setContentSize(size);\n        this._layoutInfo = {\n            row, col, spaceX: space_x, spaceY: space_y, size, boundSize, num: len\n        }\n    }\n    private onStartBatch() {\n\n    }\n    private onEndBatch() {\n\n    }\n    /**contentlprealIdx */\n    testItemIdxByLp(lp: Vec2) {\n        let viewSize = this.trans.contentSize;\n        lp.x = lp.x - viewSize.x / 2 - (!!(this.loopDir & EOverflowDir.Horizontal) ? this.realPaddingLeft : 0);\n        lp.y = lp.y + viewSize.y / 2 + (!!(this.loopDir & EOverflowDir.Vertical) ? this.realPaddingTop : 0);\n        let unitSize = v2(this.realItemSize.x + this.realSpaceX, this.realItemSize.y + this.realSpaceY);\n        let vec = Vec2.divide(unitSize, lp, unitSize);\n        vec.y = -vec.y;\n        let crd = Vec2.floor(vec, vec);\n        return this.isLoop ? this.crd2idx(crd) : clamp(this.crd2idx(crd), 0, this.layoutInfo.num - 1);\n    }\n    /**realIdx */\n    testVisibleByIdx(realIdx: number) {\n        if (!this.view)\n            return true;\n        const accuracy = 1;\n        let viewSize = this.trans.contentSize;\n        let posInfo = this.getPosInfo(realIdx);\n        let minViewPos = v3(accuracy, -viewSize.height + accuracy, 0);\n        let maxViewPos = v3(viewSize.width - accuracy, -accuracy, 0);\n\n        let itemMinPos = v3(posInfo.xMin + this.contentOffset.x + viewSize.width / 2, posInfo.yMin + this.contentOffset.y - viewSize.height / 2, 0);\n        let itemMaxPos = v3(posInfo.xMax + this.contentOffset.x + viewSize.width / 2, posInfo.yMax + this.contentOffset.y - viewSize.height / 2, 0);\n        return itemMinPos.x <= maxViewPos.x && itemMaxPos.x >= minViewPos.x && itemMinPos.y <= maxViewPos.y && itemMaxPos.y >= minViewPos.y;\n    }\n    /** */\n    resetLoop() {\n        if (!this.isLoop)\n            return;\n        this.progress = this.positiveMod(this.progress, 1);\n        this.onScrolling();\n    }\n    /**idxRect */\n    getPosInfo(realIdx: number): Rect {\n        let info = this.layoutInfo;\n        let itemSize = this.realItemSize;\n        let c = 0;\n        let r = 0;\n        let curTotalCol = Math.min(info.num - r * info.col, info.col);\n        let curTotalRow = Math.min(info.num - c * info.row, info.row);\n        let horLayout = this.layoutDir == EDir.Horizontal;\n        let loopIdx = Math.floor(realIdx / info.num);\n        let verScrollLimit = !(this.scrollDir & EScrollDir.Vertical);\n        let horScrollLimit = !(this.scrollDir & EScrollDir.Horizontal);\n        r = horLayout ? Math.floor(realIdx / info.col) : this.positiveMod(realIdx, info.row);\n        c = horLayout ? this.positiveMod(realIdx, info.col) : Math.floor(realIdx / info.row);\n        r = this.strech_ver != EStrechType.Overflow && !!(this.scrollDir & EScrollDir.Vertical) ? r + loopIdx * info.row : r;\n        c = this.strech_hor != EStrechType.Overflow && !!(this.scrollDir & EScrollDir.Horizontal) ? c + loopIdx * info.col : c;\n        r = verScrollLimit ? this.positiveMod(r, info.row) : r;\n        c = horScrollLimit ? this.positiveMod(c, info.col) : c;\n        if (horLayout)\n            curTotalCol = Math.min(info.num - this.positiveMod(r, info.row) * info.col, info.col);\n        else\n            curTotalRow = Math.min(info.num - this.positiveMod(c, info.col) * info.row, info.row);\n\n        let xMin = c * (itemSize.width + this._layoutInfo.spaceX) + this.realPaddingLeft;\n        if (this.childAlign_hor == EAlignType_Hor.Center)\n            xMin += (info.col - curTotalCol) * (itemSize.width + this._layoutInfo.spaceX) / 2;\n        else if (this.childAlign_hor == EAlignType_Hor.Right)\n            xMin += (info.col - curTotalCol) * (itemSize.width + this._layoutInfo.spaceX);\n        let yMin = -(r + 1) * (itemSize.height + this._layoutInfo.spaceY) + info.spaceY - this.realPaddingTop;\n        if (this.childAlign_ver == EAlignType_Ver.Center)\n            yMin -= (info.row - curTotalRow) * (itemSize.height + this._layoutInfo.spaceY) / 2;\n        else if (this.childAlign_ver == EAlignType_Ver.Bottom)\n            yMin -= (info.row - curTotalRow) * (itemSize.height + this._layoutInfo.spaceY);\n        return new Rect(xMin, yMin, itemSize.width, itemSize.height);\n    }\n    /** */\n    refreshList() {\n        this.refreshView(true);\n    }\n    /**realIdx */\n    getRealIdxRangeInView() {\n        const accuracy = 1;\n        let startIdx = this.testItemIdxByLp(v2(-this.contentOffset.x + accuracy, -this.contentOffset.y - accuracy))\n        let endIdx = this.testItemIdxByLp(v2(this.viewSize.x - this.contentOffset.x - accuracy, -this.viewSize.y - this.contentOffset.y + accuracy));\n        return { startIdx, endIdx };\n    }\n    private refreshView(force: boolean = false) {\n        let contentTrans = this.content.getComponent(UITransform);\n        contentTrans.setContentSize(this._layoutInfo.size);\n        if (this.infos.length == 0) {\n            return;\n        }\n        this.executeLock = true;\n        const idxRange = this.getRealIdxRangeInView();\n        let startIdx = idxRange.startIdx;\n        let endIdx = idxRange.endIdx;\n        let renderMaps: Map<number, {\n            enterInfos: IRenderItemInfo<T>[],\n            stayInfos: IRenderItemInfo<T>[],\n            exitInfos: IRenderItemInfo<T>[]\n        }> = new Map();\n        let renderVisitMap: Map<number, Set<number>> = new Map();\n\n        //\n        for (let i = startIdx; i <= endIdx; i++) {\n            let infoIdx = this.positiveMod(i, this.infos.length);\n            let renderInfos = renderMaps.get(infoIdx);\n            if (!renderInfos) {\n                renderInfos = { enterInfos: [], stayInfos: [], exitInfos: [] };\n                renderMaps.set(infoIdx, renderInfos);\n                renderVisitMap.set(infoIdx, new Set());\n            }\n            let isVisible = this.testVisibleByIdx(i);\n            let info = this.infos[infoIdx];\n            let curItem = info.renderItems.find(e => e.realIdx == i);\n            renderVisitMap.get(infoIdx).add(i);\n            if (curItem && isVisible)\n                renderInfos.stayInfos.push(curItem);\n            else if (curItem && !isVisible) {\n                renderInfos.exitInfos.push(curItem);\n                curItem.isValid = false;\n            }\n            else if (!curItem && isVisible)\n                renderInfos.enterInfos.push(this.getRenderItemInfo(i, this.getNode(info), info));\n        }\n\n        //\n        for (let i = 0; i < this.infos.length; i++) {\n            if (!this.infos[i].isVisible)\n                continue;\n            let info = this.infos[i];\n            if (renderVisitMap.has(i)) {\n                let visitMap = renderVisitMap.get(i);\n                for (let j = 0; j < info.renderItems.length; j++) {\n                    if (!visitMap.has(info.renderItems[j].realIdx))\n                        renderMaps.get(i).exitInfos.push(info.renderItems[j]);\n                }\n            }\n            else {\n                renderMaps.set(i, {\n                    stayInfos: [],\n                    enterInfos: [],\n                    exitInfos: info.renderItems\n                });\n            }\n        }\n        Array.from(renderMaps.keys()).forEach(infoIdx => {\n            let info = this.infos[infoIdx];\n            let renderInfos = renderMaps.get(infoIdx);\n            this.refreshDelayFuncs.push(() => {\n                renderInfos.exitInfos.forEach(f => {\n                    info.node = f.node;\n                    this.cb.onHide && this.cb.onHide(info, f);\n                    this.recycleRenderItem(info, f);\n                })\n            })\n            renderInfos.enterInfos.forEach(f => {\n                this.initRenderItem(f);\n            })\n            this.refreshDelayFuncs.push(() => {\n                renderInfos.enterInfos.forEach(f => {\n                    info.node = f.node;\n                    this.cb.onShow && this.cb.onShow(info, f);\n                })\n            })\n            renderInfos.enterInfos.forEach(f => {\n                this.refreshDelayFuncs.push(() => {\n                    info.node = f.node;\n                    this.cb.onData && this.cb.onData(info, f);\n                })\n            })\n            if (force)\n                renderInfos.stayInfos.forEach(f => {\n                    this.refreshDelayFuncs.push(() => {\n                        info.node = f.node;\n                        this.cb.onData && this.cb.onData(info, f);\n                    })\n                })\n            info.renderItems = [].concat(renderInfos.stayInfos, renderInfos.enterInfos);\n            info.isVisible = info.renderItems.length > 0;\n            info.node = info.isVisible ? info.renderItems[info.renderItems.length - 1].node : null;\n            this.refreshNodeTrans(info)\n        });\n        this.refreshDelayFuncs.forEach(e => e());\n        this.refreshDelayFuncs = [];\n        this.executeLock = false;\n    }\n\n    private waitExecute(exeFunc: Function) {\n        this.exeCache.push(exeFunc);\n    }\n    private scrollVelocity = v2();\n    private lastContentOffset = v2();\n    private exeCache: Function[] = [];\n    protected update(dt: number): void {\n        if (!isInEditorMode) {\n            this.executeLock = true;\n            this.infos.forEach(e => {\n                e.renderItems.forEach(f => this.updateRenderItem(f, dt));\n            })\n            this.executeLock = false;\n            if (this.scrollRect) {\n                let scrollView = this.scrollRect.getComponent(FixedScrollView);\n                if (this.isInFocus || scrollView.isAutoScrolling() || (scrollView.isInTouch && scrollView.allowTouch)) {\n                    this.pauseFlow();\n                    this.relativeListCom.forEach(e => e.pauseFlow());\n                }\n            }\n            if (this.isLoop && Math.abs(this.autoFlowSpeedX) + Math.abs(this.autoFlowSpeedY) > 0.05) {\n                this.flowTimer -= dt;\n                if (this.flowTimer <= 0) {\n                    this.realFlowSpeed = this.autoFlowSpeed;\n                    if (this.flowTimer < -60) {\n                        this.resetLoop();\n                        this.flowTimer += 60;\n                    }\n                }\n                else {\n                    if (this.flowTimer >= this.flowResumeTime)\n                        this.realFlowSpeed = v2();\n                    else {\n                        this.realFlowSpeed.x = easing.quadIn(1 - this.flowTimer / this.flowResumeTime) * this.autoFlowSpeed.x;\n                        this.realFlowSpeed.y = easing.quadIn(1 - this.flowTimer / this.flowResumeTime) * this.autoFlowSpeed.y;\n                    }\n                }\n                if (this.isInFlow) {\n                    this.moveDelta(v2(-this.realFlowSpeed.x * dt, this.realFlowSpeed.y * dt));\n                    this.onScrolling();\n                }\n            }\n            this.scrollVelocity = v2((this.contentOffset.x - this.lastContentOffset.x) / dt, (this.contentOffset.y - this.lastContentOffset.y) / dt);\n            this.lastContentOffset = this.contentOffset.clone();\n        }\n        //executeLockForeach\n        this.exeCache.forEach(e => e());\n        this.exeCache = [];\n    }\n\n\n    private updateRenderItem(renderItemInfo: IRenderItemInfo, dt: number) {\n        renderItemInfo.info.node = renderItemInfo.node;\n        this.cb.onUpdate && this.cb.onUpdate(renderItemInfo.info, dt, renderItemInfo);\n\n        let node = renderItemInfo.node;\n        if (this.isRenderByLayer && node.getComponent(UIOpacity)) {\n            this.itemChildMap.get(node).forEach(e => {\n                if (!e.skipParent) {\n                    let opacityCom = e.child.getComponent(UIOpacity);\n                    if (!opacityCom)\n                        opacityCom = e.child.addComponent(UIOpacity);\n                    opacityCom.opacity = node.getComponent(UIOpacity).opacity;\n                }\n            })\n        }\n    }\n    public onDestroy(): void {\n        this.clearAll();\n    }\n    public onLoad(): void {\n        if (!this.trans) {\n            error(\"VListUITransformCanvas\");\n            return;\n        }\n        if (!isInEditorMode && this.content) {\n            let children = [...this.content.children];\n            children.forEach(e => {\n                if (e.name.startsWith(\"preview_\"))\n                    e.destroy();\n            })\n            if (this.view)\n                this.view.getComponent(Mask).enabled = true;\n        }\n\n    }\n    resetInEditor(didResetToDefault?: boolean): void {\n        [...this.node.children].forEach(e => e.destroy());\n        this.comPathList = [];\n        this.comKeyList = [];\n        this.comShowList = [];\n    }\n    private startCrd: Vec2 = v2();\n    private onScrollStart() {\n        this.isInFocus = false;\n        this.focusTwn && this.focusTwn.stop();\n        this.focusTwn = null;\n        let location = this.getLocation();\n        this.startCrd = location;\n        if (this.scrollDir != EScrollDir.Both)\n            this._pageIdx = this.scrollDir == EScrollDir.Horizontal ? location.x : location.y;\n    }\n    private onScrollEnd() {\n        if (this.listType == EListType.Page) {\n            if (!this.scrollRect || this.isInFocus)\n                return;\n            let targetCrd = this.getLocation();\n            let vec = this.getVec().subtract(v2(0.5, 0.5));\n            let selfRange = new Rect(this.startCrd.x - this.scrollThreshold, this.startCrd.y - this.scrollThreshold, 2 * this.scrollThreshold, 2 * this.scrollThreshold);\n            if (vec.x < selfRange.xMin || this.scrollVelocity.x > this.turnSpeedThreshold)\n                targetCrd.x = Math.min(targetCrd.x, this.startCrd.x - 1);\n\n            else if (vec.x > selfRange.xMax || this.scrollVelocity.x < -this.turnSpeedThreshold)\n                targetCrd.x = Math.max(targetCrd.x, this.startCrd.x + 1);\n            if (vec.y < selfRange.yMin || this.scrollVelocity.y < -this.turnSpeedThreshold)\n                targetCrd.y = Math.min(targetCrd.y, this.startCrd.y - 1);\n            else if (vec.y > selfRange.yMax || this.scrollVelocity.y > this.turnSpeedThreshold)\n                targetCrd.y = Math.max(targetCrd.y, this.startCrd.y + 1);\n            if (!this.isLoop) {\n                targetCrd.x = clamp(targetCrd.x, 0, this.layoutInfo.col - 1);\n                targetCrd.y = clamp(targetCrd.y, 0, this.layoutInfo.row - 1);\n            }\n            this.locate(targetCrd, this.snapTime, () => {\n                this.node.emit(VListEvent.OnFinishPage);\n            });\n            // }\n            this.node.emit(VListEvent.OnTurnPage);\n            this.startCrd = v2();\n        }\n    }\n    private positiveMod(a: number, b: number) {\n        let res = a % b;\n        if (res < 0)\n            return res + b;\n        else\n            return res;\n    }\n\n}\n\n\n"]}